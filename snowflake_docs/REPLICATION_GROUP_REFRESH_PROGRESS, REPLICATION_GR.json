{
    "url": "https://docs.snowflake.com/en/sql-reference/functions/replication_group_refresh_progress",
    "title": "REPLICATION_GROUP_REFRESH_PROGRESS, REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB | Snowflake Documentation",
    "paragraphs": [
        "Information Schema , Table functions",
        "Standard & Business Critical Feature",
        "Database and share replication are available to all accounts.",
        "Replication of other account objects & failover/failback require Business Critical Edition (or higher).\nTo inquire about upgrading, please contact Snowflake Support.",
        "The REPLICATION_GROUP_REFRESH_PROGRESS family of functions can be used to query the status of a replication or failover group\nrefresh:",
        "REPLICATION_GROUP_REFRESH_PROGRESS returns a JSON object indicating the refresh status for a secondary replication or failover group by\nname.",
        "REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB returns a JSON object indicating the refresh status for a secondary replication\nor failover group by query ID.",
        "Note",
        "REPLICATION_GROUP_REFRESH_PROGRESS only returns the replication or failover group refresh activity for the most recent refresh if it\noccurred within the last 14 days.",
        "REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB returns replication or failover group refresh activity within the last 14 days.",
        "Name of the secondary replication or failover group. Note that the entire name must be enclosed in single quotes.",
        "ID of the replication group refresh query. The query ID can be obtained from the History  page in the web\ninterface.",
        "The function returns the following columns:",
        "Column Name",
        "Data Type",
        "Description",
        "PHASE_NAME",
        "TEXT",
        "Name of the replication phases completed (or in progress) so far. For the list of phases, see the usage notes.",
        "START_TIME",
        "TIMESTAMP_LTZ",
        "Time when the replication phase began.",
        "END_TIME",
        "TIMESTAMP_LTZ",
        "Time when the phase finished, if applicable. NULL if the phase is in progress or is the terminating phase\n(COMPLETED/FAILED/CANCELED).",
        "PROGRESS",
        "TEXT",
        "PRIMARY_UPLOADING_DATA: Percentage of total bytes replicated.",
        "SECONDARY_DOWNLOADING_METADATA: Percentage of the total number of objects replicated.",
        "SECONDARY_DOWNLOADING_DATA: Percentage of total bytes replicated.",
        "Empty for remaining phases",
        "DETAILS",
        "VARIANT",
        "For phase PRIMARY_UPLOADING_METADATA:",
        "primarySnapshotTimestamp: Time when the primary snapshot was created. Format is epoch time.",
        "For phase PRIMARY_UPLOADING_DATA:",
        "totalBytesToReplicate: Total number of bytes expected to be uploaded.",
        "totalBytesToUpload: Total number of bytes to required to be uploaded.",
        "bytesUploaded: Total number of bytes uploaded so far.",
        "databases: List of JSON objects containing the following fields for each member database:",
        "name: Database name.",
        "totalBytesToReplicate: Total bytes expected to be uploaded for the database.",
        "For phase SECONDARY_DOWNLOADING_DATA:",
        "totalBytesToReplicate: Total number of bytes expected to be downloaded.",
        "totalBytesToDownload: Actual number of bytes required to be downloaded.",
        "bytesDownloaded: Actual number of bytes downloaded so far.",
        "databases: List of JSON objects containing the following fields for each member database:",
        "name: Database name.",
        "totalBytesToReplicate: Total bytes expected to be downloaded for the database.",
        "For phase SECONDARY_DOWNLOADING_METADATA:",
        "totalObjects: Total number of objects to download.",
        "completedObjects: Total number of objects downloaded so far.",
        "objectTypes: List of JSON objects containing the following fields for each object type:",
        "objectType: Type of object (for example, users, roles, grants, warehouses, schemas, tables, columns, etc).",
        "totalObjects: Total number of objects of this type.",
        "completedObjects: Number of completed objects of this type.",
        "For phase FAILED:",
        "errorCode: Error code of the failure.",
        "errorMessage: Error message of the failure.",
        "Only returns rows for a role with any privilege on the replication or failover group.",
        "Only returns rows for a secondary replication or failover group in the current account.",
        "When calling an Information Schema table function, the session must have an INFORMATION_SCHEMA schema in use or the function name\nmust be fully-qualified. For more details, see Snowflake Information Schema.",
        "Following is the list of phases in the order processed:",
        "#",
        "Phase name",
        "Description",
        "1",
        "SECONDARY_SYNCHRONIZING_MEMBERSHIP",
        "The secondary replication or failover group receives information from the primary group about the objects included in the group,\nand updates its membership metadata.",
        "2",
        "SECONDARY_UPLOADING_INVENTORY",
        "The secondary replication or failover group sends an inventory of its objects in the target account to the primary group.",
        "3",
        "PRIMARY_UPLOADING_METADATA",
        "The primary replication or failover group creates a snapshot of metadata in the source account and sends it to the secondary group.",
        "4",
        "PRIMARY_UPLOADING_DATA",
        "The primary replication or failover group copies the files the secondary group needs to reconcile any deltas between the objects\nin the source and target accounts.",
        "5",
        "SECONDARY_DOWNLOADING_METADATA",
        "The secondary replication or failover group applies the snapshot of the metadata that was sent by the primary. The metadata\nupdates are not applied atomically and instead applied over time.",
        "6",
        "SECONDARY_DOWNLOADING_DATA",
        "The secondary replication or failover group copies the files sent by the primary group to the target account.",
        "7",
        "COMPLETED / FAILED / CANCELED",
        "Refresh operation status.",
        "In the PRIMARY_UPLOADING_DATA and SECONDARY_DOWNLOADING_DATA phases, the totalBytesToReplicate value is estimated prior\nto the replication operation. This value may differ from the totalBytesToUpload or totalBytesToDownload value in\nthe respective phase.",
        "For example, if during the PRIMARY_UPLOADING_DATA phase, a previous replication operation uploaded some\nbytes but was canceled before the operation completed, those bytes would not be uploaded again. In that case, totalBytesToUpload\nwould be lower than totalBytesToReplicate.",
        "To retrieve the current refresh progress for replication group rg1, execute the following\nstatement:",
        "To retrieve the replication group refresh progress by query ID, replace the query ID in\nthe example and execute the following statement:",
        "Was this page helpful?",
        "On this page"
    ]
}