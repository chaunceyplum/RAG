{
    "url": "https://docs.snowflake.com/en/sql-reference/functions/system_clustering_information",
    "title": "SYSTEM$CLUSTERING_INFORMATION | Snowflake Documentation",
    "paragraphs": [
        "System functions (System Information)",
        "Returns clustering information, including average clustering depth, for a table based on one or more columns in the table.",
        "SYSTEM$CLUSTERING_DEPTH",
        "Table for which you want to return clustering information.",
        "Column names or expressions for which clustering information is returned:",
        "For a table with no clustering key, this argument is required. If this argument is omitted, an error is returned.",
        "For a table with a clustering key, this argument is optional; if the argument is omitted, Snowflake uses the defined clustering key to return clustering information.",
        "Even if only one column name or expression is passed, it must be inside parentheses.",
        "Note",
        "You can use this argument to return clustering information for any columns in the table, regardless of whether a clustering key is defined for the table.",
        "In other words, you can use this to help you decide what clustering to use in the future.",
        "Number of clustering errors returned by the function. If this argument is omitted, the 10 most recent errors are returned.",
        "The second argument of the function specifies a column name/expression or a number of errors. You cannot include both arguments\nin a single function call.",
        "The table name, column name, and expression are strings, and should be enclosed in single quotes.",
        "The function returns a value of type VARCHAR.",
        "The returned string is in JSON format and contains the following name/value pairs:",
        "Columns in table used to return clustering information; can be any columns in the table.",
        "This column can contain suggestions to make clustering more efficient. For example, this field might contain a warning\nif the cardinality of the clustering column is extremely high.",
        "This column can be empty.",
        "For more information about how to cluster efficiently, see Strategies for Selecting Clustering Keys.",
        "Total number of micro-partitions that comprise the table.",
        "Total number of micro-partitions for which the value of the specified columns have reached a constant state (i.e. the micro-partitions will not benefit significantly from reclustering). The number\nof constant micro-partitions in a table has an impact on pruning for queries. The higher the number, the more micro-partitions can be pruned from queries executed on the table, which has a\ncorresponding impact on performance.",
        "Average number of overlapping micro-partitions for each micro-partition in the table. A high number indicates the table is not well-clustered.",
        "Average overlap depth of each micro-partition in the table. A high number indicates the table is not well-clustered.",
        "This value is also returned by SYSTEM$CLUSTERING_DEPTH.",
        "A histogram depicting the distribution of overlap depth for each micro-partition in the table. The histogram contains buckets with widths:",
        "0 to 16 with increments of 1.",
        "For buckets larger than 16, increments of twice the width of the previous bucket (e.g. 32, 64, 128, \u2026).",
        "An array of JSON objects, each with a timestamp and error name/value pair. The error describes why automatic\nclustering was not able to recluster data.",
        "By default, the 10 most recent errors are returned in the array. To return more or fewer errors, specify a number as the second argument\nof the function.",
        "For more information about micro-partition overlap and depth, and their impact on query pruning, see Understanding Snowflake Table Structures.",
        "Return the 5 most recent clustering errors:",
        "Return the clustering information for a table using two columns in the table:",
        "This example indicates that the test2 table is not well-clustered for the following reasons:",
        "Zero (0) constant micro-partitions out of 1156 total micro-partitions.",
        "High average of overlapping micro-partitions.",
        "High average of overlap depth across micro-partitions.",
        "Most of the micro-partitions are grouped at the lower-end of the histogram, with the majority of micro-partitions having an overlap depth between 64 and 128.",
        "Automatic clustering was previously disabled.",
        "If a table has more than 2 million partitions:",
        "The results of the function are based on a subset of the table\u2019s partitions.",
        "The value of the output\u2019s total_partition_count field is 2 million.",
        "Was this page helpful?",
        "On this page"
    ]
}