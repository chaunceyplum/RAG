{
    "url": "https://docs.snowflake.com/en/user-guide/tutorials/load-from-cloud-tutorial-azure",
    "title": "Load data from cloud storage: Microsoft Azure | Snowflake Documentation",
    "paragraphs": [
        "This tutorial shows you how to load data from cloud storage into Snowflake using SQL.\nYou use a template worksheet in Snowsight to complete these tasks.\nYou can choose which cloud provider you want to use: Amazon S3, Microsoft Azure, or\nGoogle Cloud Storage (GCS). The worksheet contains customized SQL commands for\ncompatibility with each type of storage.",
        "Attention",
        "The example provided in this tutorial is specific to Microsoft Azure and shows SQL commands\nthat work for loading data from an Azure container.",
        "Note",
        "Snowflake bills a minimal amount for the on-disk storage used for the sample data in\nthis tutorial. The tutorial provides steps to drop the database and minimize storage\ncost.",
        "Snowflake requires a virtual warehouse to load the\ndata and execute queries. A running virtual warehouse consumes Snowflake credits.\nIn this tutorial, you will be using a 30-day trial account,\nwhich provides free credits, so you won\u2019t incur any costs.",
        "In this tutorial you will learn how to:",
        "Use a role that has the privileges to create and use the Snowflake objects required by this tutorial.",
        "Use a warehouse to access resources.",
        "Create a database and schema.",
        "Create a table.",
        "Create a storage integration for your cloud platform.",
        "Create a stage for your storage integration.",
        "Load data into the table from the stage.",
        "Query the data in the table.",
        "This tutorial assumes the following:",
        "You have a supported browser.",
        "You have a trial account. If you do not have a trial account yet, you can sign up\nfor a free trial.\nYou can choose any Snowflake Cloud Region.",
        "You have an account that you can use to bulk load data from one of the following\ncloud providers:",
        "AWS S3. See Bulk loading from Amazon S3.",
        "Microsoft Azure. See Bulk loading from Microsoft Azure.",
        "Google Cloud Storage. See Bulk loading from Google Cloud Storage.",
        "Note",
        "This tutorial is only available to users with a trial account. The sample worksheet is not available\nfor other types of accounts.",
        "To access Snowsight over the public Internet, do the following:",
        "In a supported web browser, navigate to https://app.snowflake.com.",
        "Provide your account identifier or account URL.\nIf you\u2019ve previously signed in to Snowsight, you might see an account name that you can select.",
        "Sign in using your Snowflake account credentials.",
        "You can use worksheets to write and run SQL commands on your database. Your trial\naccount has access to a template worksheet for this tutorial. The worksheet has the SQL\ncommands that you will run to create database objects, load data, and query the\ndata. Because it is a template worksheet, you will be invited to enter your own values\nfor certain SQL parameters. For more information about worksheets,\nsee Getting started with worksheets.",
        "The worksheet for this tutorial is not pre-loaded into the trial account. To open\nthe worksheet for this tutorial, follow these steps:",
        "If you are signing in to your Snowsight trial account for the first time,\nselect Start under Load data into Snowflake on the\nWhere do you want to start? screen.",
        "If you have left the Where do you want to start? screen, go to the\nWorksheets tab and select Continue in the banner.",
        "Click anywhere in the middle panel named Load data from cloud storage.",
        "The [Template] Load data from cloud storage worksheet opens, and your browser\nlooks similar to the following image.",
        "The role you use determines the privileges you have. In this tutorial, use the\nACCOUNTADMIN system role so that you can view and manage objects in your account.\nFor more information, see Using the ACCOUNTADMIN Role.",
        "A warehouse provides the compute resources that you need to execute DML operations, load data,\nand run queries. These resources include CPU, memory, and temporary storage. Your\ntrial account has a virtual warehouse (compute_wh) that you can use for this\ntutorial. For more information, see Virtual warehouses.",
        "To set the role and warehouse to use, do the following:",
        "In the open worksheet, place your cursor in the USE ROLE line.",
        "In the upper-right corner of the worksheet, select Run.",
        "Note",
        "In this tutorial, run SQL statements one at a time. Do not select Run All.",
        "Place your cursor in the USE WAREHOUSE line, then select Run.",
        "A database is a repository for your data. The data is stored in tables that you can\nmanage and query. A schema is a logical grouping of database objects, such as tables\nand views. For example, a schema might contain the database objects required for a\nspecific application. For more information, see Databases, Tables and Views - Overview.",
        "To create a database, a schema, and a table that you can load, do the following:",
        "In the open worksheet, place your cursor in the CREATE OR REPLACE DATABASE line,\nenter a name for your database and an optional comment, then select Run. For\nexample:",
        "Place your cursor in the CREATE OR REPLACE SCHEMA line, enter a name for your schema\nand an optional comment, then select Run. For example:",
        "Place your cursor in the CREATE OR REPLACE TABLE lines, complete the table\ndefinition, add an optional comment, and select Run. For example, the following\ntable contains six columns:",
        "To confirm that the table was created successfully, place your cursor in the SELECT line,\nthen select Run.",
        "The output shows the columns of the table you created. Currently, the\ntable does not have any rows.",
        "Before you can load data from cloud storage, you must configure a storage integration that is\nspecific to your cloud provider. The following example is specific to Microsoft Azure storage.",
        "Storage integrations are named, first-class Snowflake objects that avoid the need for passing explicit\ncloud provider credentials such as secret keys or access tokens. Integration objects store an Azure\nidentity and access management (IAM) user ID called the app registration.",
        "To create a storage integration for Azure, do the following:",
        "Use the Azure portal to configure an Azure container for loading data. For details, see\nConfiguring an Azure container for loading data.",
        "In the open worksheet, place your cursor in the CREATE OR REPLACE STORAGE INTEGRATION lines, define\nthe required parameters, and select Run. For example:",
        "Set AZURE_TENANT_ID to the Office 365 tenant ID for the storage account that contains the allowed storage\nlocations that you want to use. You can find this ID in the Azure portal under\nMicrosoft Entra ID > Properties > Tenant ID. (Microsoft Entra ID is the new name for Azure Active\nDirectory.)",
        "Set STORAGE_ALLOWED_LOCATIONS to the path for the Azure container where your source data file is stored.\nUse the format shown in this example, where tutorial99 is the storage account name and snow-tutorial-container is the container name.",
        "Place your cursor in the DESCRIBE INTEGRATION line, specify the name of the storage\nintegration you created, and select Run.",
        "This command retrieves the AZURE_CONSENT_URL and AZURE_MULTI_TENANT_APP_NAME for the client application\nthat was created automatically for your Snowflake account. You will use these values to configure\npermissions for Snowflake in the Azure portal.",
        "The output for this command looks similar to the following:",
        "Place your cursor in the SHOW INTEGRATIONS line and select Run. This command returns\ninformation about the storage integration you created.",
        "The output for this command looks similar to the following:",
        "Use the Azure portal to configure permissions for the client application (which was created\nautomatically for your trial account) to access storage containers. Follow\nStep 2: Grant Snowflake Access to the Storage Locations\nunder Configuring an Azure container for loading data.",
        "A stage is a location that holds data files to load into a Snowflake database. This tutorial creates\na stage that can load data from a specific type of cloud storage, such as an Azure container.",
        "To create a stage, do the following:",
        "In the open worksheet, place your cursor in the CREATE OR REPLACE STAGE lines, specify a name,\nthe storage integration you created, the bucket URL, and the correct file format, then select Run.\nFor example:",
        "Return information about the stage you created:",
        "The output for this command looks similar to the following:",
        "Load the table from the stage you created by using the COPY INTO <table>\ncommand. For more information about loading from Azure containers, see\nCopying data from an Azure stage.",
        "To load the data into the table, place your cursor in the COPY INTO lines, specify the table\nname, the stage you created, and name of the file (or files) you want to load, then select Run.\nFor example:",
        "Your output looks similar to the following image.",
        "Now that the data is loaded, you can run queries on the calendar table.",
        "To run a query in the open worksheet, select the line or lines of the SELECT command,\nand then select Run. For example, run the following query:",
        "Your output looks similar to the following image.",
        "Congratulations! You have successfully completed this tutorial for trial accounts.",
        "Take a few minutes to review a short summary and the key points covered in the tutorial.\nYou might also want to consider cleaning up by dropping any objects you created in the tutorial.\nFor example, you might want to drop the table you created and loaded:",
        "As long as they are no longer needed, you can also drop the other objects you created, such as\nthe storage integration, stage, database, and schema. For details,\nsee Data Definition Language (DDL) commands.",
        "In summary, you used a pre-loaded template worksheet in Snowsight to complete the following steps:",
        "Set the role and warehouse to use.",
        "Create a database, schema, and table.",
        "Create a storage integration and configure permissions on cloud storage.",
        "Create a stage and load the data from the stage into the table.",
        "Query the data.",
        "Here are some key points to remember about loading and querying data:",
        "You need the required permissions to create and manage objects in your account. In this tutorial,\nyou use the ACCOUNTADMIN system role for these privileges.",
        "This role is not normally used to create objects. Instead, we recommend creating a hierarchy of\nroles aligned with business functions in your organization. For more information, see\nUsing the ACCOUNTADMIN Role.",
        "You need a warehouse for the resources required to create and manage objects and run SQL commands.\nThis tutorial uses the compute_wh warehouse included with your trial account.",
        "You created a database to store the data and a schema to group the database objects logically.",
        "You created a storage integration and a stage to load data from a CSV file stored in an Azure container.",
        "After the data was loaded into your database, you queried it using a SELECT statement.",
        "Continue learning about Snowflake using the following resources:",
        "Complete the other tutorials provided by Snowflake:",
        "Snowflake Tutorials",
        "Familiarize yourself with key Snowflake concepts and features, as well as the SQL commands used to\nload tables from cloud storage:",
        "Introduction to Snowflake",
        "Load data into Snowflake",
        "Data loading and unloading commands",
        "Try the Tasty Bytes Quickstarts provided by Snowflake:",
        "Tasty Bytes Quickstarts",
        "Was this page helpful?"
    ]
}