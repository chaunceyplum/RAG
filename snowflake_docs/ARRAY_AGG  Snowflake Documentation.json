{
    "url": "https://docs.snowflake.com/en/sql-reference/functions/array_agg.html",
    "title": "ARRAY_AGG | Snowflake Documentation",
    "paragraphs": [
        "Aggregate functions (Semi-structured Data) , Window functions (General) , Semi-structured and structured data functions (Array/Object)",
        "Returns the input values, pivoted into an array. If the input is empty, the function returns an empty array.",
        "ARRAYAGG",
        "Aggregate function",
        "Window function",
        "Required:",
        "An expression (typically a column name) that determines the values to be put into the array.",
        "The OVER clause specifies that the function is being used as a window function.\nFor details, see Window function syntax and usage.",
        "Optional:",
        "Removes duplicate values from the array.",
        "Clause that contains one or more expressions (typically column names) that determine the order of the values in each array.",
        "The WITHIN GROUP(ORDER BY) syntax supports the same parameters as the main ORDER BY clause in a SELECT statement.\nSee ORDER BY.",
        "Window function clause that specifies an expression (typically a column name).\nThis expression defines partitions that group the input rows before the function is applied.\nFor details, see Window function syntax and usage.",
        "Returns a value of type ARRAY.",
        "The maximum amount of data that ARRAY_AGG can return for a single call is 16MB.",
        "If you do not specify WITHIN GROUP(ORDER BY), the order of\nelements within each array is unpredictable. (An ORDER BY clause outside\nthe WITHIN GROUP clause applies to the order of the output rows, not to\nthe order of the array elements within a row.)",
        "If you specify a number for an expression in WITHIN GROUP(ORDER BY), this number is parsed as a numeric\nconstant, not as the ordinal position of a column in the SELECT list. Therefore, do not specify\nnumbers as WITHIN GROUP(ORDER BY) expressions.",
        "If you specify DISTINCT and WITHIN GROUP, both must refer to the same column. For example:",
        "If you specify different columns for DISTINCT and WITHIN GROUP, an error occurs:",
        "You must either specify the same column for DISTINCT and WITHIN GROUP or omit DISTINCT.",
        "NULL values are omitted from the output.",
        "When this function is called as a window function, it does not support:",
        "An ORDER BY clause within the OVER clause.",
        "Explicit window frames.",
        "The example queries below use the tables and data shown below:",
        "This example shows non-pivoted output from a query that does not use ARRAY_AGG().\nThe contrast in output between this example and the following example\nshows that ARRAY_AGG() pivots the data.",
        "This example shows how to use ARRAY_AGG() to pivot a column of output\ninto an array in a single row:",
        "This example shows the use of the DISTINCT keyword with ARRAY_AGG().",
        "This example uses two separate ORDER BY clauses, one of which controls\nthe order within the output array inside each row, and one of which controls\nthe order of the output rows:",
        "Was this page helpful?",
        "On this page"
    ]
}