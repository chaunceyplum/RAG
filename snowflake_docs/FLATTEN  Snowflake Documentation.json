{
    "url": "https://docs.snowflake.com/en/sql-reference/functions/flatten.html#output",
    "title": "FLATTEN | Snowflake Documentation",
    "paragraphs": [
        "Table functions , Semi-structured and structured data functions (Extraction)",
        "Flattens (explodes) compound values into multiple rows.",
        "FLATTEN is a table function that takes a VARIANT, OBJECT, or ARRAY column and produces a lateral view (i.e. an inline view that contains correlation referring to other tables that precede it in the\nFROM clause).",
        "FLATTEN can be used to convert semi-structured data to a relational representation.",
        "Required:",
        "The expression that will be unseated into rows. The expression must be of data type VARIANT, OBJECT, or ARRAY.",
        "Optional:",
        "The path to the element within a VARIANT data structure which needs to be flattened. Can be a zero-length string (i.e. empty path) if the outermost element is to be flattened.",
        "Default: Zero-length string (i.e. empty path)",
        "If FALSE, any input rows that cannot be expanded, either because they cannot be accessed in the path or because they have zero fields or entries, are completely omitted from the output.",
        "If TRUE, exactly one row is generated for zero-row expansions (with NULL in the KEY, INDEX, and VALUE columns).",
        "Default: FALSE",
        "Note",
        "A zero-row expansion of an empty compound displays NULL in the THIS output column, distinguishing it from an attempt to expand a non-existing or wrong kind of compound.",
        "If FALSE, only the element referenced by PATH is expanded.",
        "If TRUE, the expansion is performed for all sub-elements recursively.",
        "Default: FALSE",
        "Specifies whether only objects, arrays, or both should be flattened.",
        "Default: BOTH",
        "The returned rows consist of a fixed set of columns:",
        "A unique sequence number associated with the input record; the sequence is not guaranteed to be gap-free or ordered in any particular way.",
        "For maps or objects, this column contains the key to the exploded value.",
        "The path to the element within a data structure which needs to be flattened.",
        "The index of the element, if it is an array; otherwise NULL.",
        "The value of the element of the flattened array/object.",
        "The element being flattened (useful in recursive flattening).",
        "Note",
        "The columns of the original (correlated) table which was used as the source of data for FLATTEN are also accessible. If a single row from the original table resulted in multiple rows in the flattened\nview, the values in this input row are replicated to match the number of rows produced by FLATTEN.",
        "For guidelines on using this function with structured types, see\nUsing the FLATTEN function with values of structured types.",
        "Simple example of flattening one record (note that the middle element of the array is missing):",
        "Examples of the effect of the PATH parameter:",
        "Example of the effect of the OUTER parameter:",
        "Example of the effect of the RECURSIVE parameter:",
        "Example of the effect of the MODE parameter:",
        "Practical example that explodes an array nested within another array:",
        "Was this page helpful?",
        "On this page"
    ]
}