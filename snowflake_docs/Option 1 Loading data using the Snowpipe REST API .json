{
    "url": "https://docs.snowflake.com/en/user-guide/data-load-snowpipe-rest-load",
    "title": "Option 1: Loading data using the Snowpipe REST API | Snowflake Documentation",
    "paragraphs": [
        "This topic describes how to call the public REST endpoints to load data and retrieve load history reports. The instructions assume you have completed the setup instructions in\nPreparing to load data using the Snowpipe REST API.",
        "Loading takes place in two steps:",
        "Stage your data files:",
        "Internal stage: Use the PUT command to stage your files.",
        "External stage: Use the client tools provided by the cloud provider to copy your files to the stage location (Amazon S3, Google Cloud Storage, or Microsoft Azure).",
        "Submit a request to the insertFiles REST endpoint to load the staged data files.",
        "For your convenience, sample Java and Python programs that illustrate how to submit a REST endpoint are provided in this topic.",
        "This example uses the Bouncy Castle Crypto APIs. In order to compile and run this\nexample, you must include the following JAR files in your classpath:",
        "the provider JAR file (bcprov-jdkversions.jar)",
        "the PKIX / CMS / EAC / PKCS / OCSP / TSP / OPENSSL JAR file (bcpkix-jdkversions.jar)",
        "where versions specifies the versions of the JDK that the JAR file supports.",
        "Before you compile the sample code, replace the following placeholder values:",
        "Specify the local path to the private key file you created in Using key pair authentication & key rotation (in Preparing to load data using the Snowpipe REST API).",
        "If you generated an encrypted key, implement the getPrivateKeyPassphrase() method to return the passphrase for decrypting that key.",
        "Specify your host information in the form of a URL.",
        "The preferred format of the account identifier is as follows:",
        "Names of your Snowflake organization and account. For details, see Format 1 (preferred): Account name in your organization.",
        "Alternatively, specify your account locator, along with the region and cloud platform where the account is hosted, if required. For details, see Format 2: Account locator in a region.",
        "Specify your Snowflake login name.",
        "Specify the fully-qualified name of the pipe to use to load the data.",
        "Specify the path to your files to load in the file objects list.",
        "Optionally specify the size of each file, in bytes, to avoid delays when Snowpipe calculates the operations required to load the data.",
        "The path you specify must be relative to the stage where the files are located. Include the complete name for each file, including the file extension. For example, a CSV file that is gzip-compressed might have the extension .csv.gz.",
        "Before you execute the sample code, replace the following placeholder values:",
        "Specify the local path to the private key file you created in Using key pair authentication & key rotation (in Preparing to load data using the Snowpipe REST API).",
        "If you generated an encrypted key, implement the get_private_key_passphrase() function to return the passphrase for decrypting that key.",
        "Specify the unique identifier for your account (provided by Snowflake). See the host description.",
        "Specify the unique hostname for your Snowflake account.",
        "The preferred format of the account identifier is as follows:",
        "Names of your Snowflake organization and account. For details, see Format 1 (preferred): Account name in your organization.",
        "Alternatively, specify your account locator, along with the region and cloud platform where the account is hosted, if required. For details, see Format 2: Account locator in a region.",
        "Specify your Snowflake login name.",
        "Specify the fully-qualified name of the pipe to use to load the data.",
        "Specify the path to your files to load in the file objects list.",
        "The path you specify must be relative to the stage where the files are located. Include the complete name for each file, including the file extension. For example, a CSV file that is gzip-compressed might have the extension .csv.gz.",
        "Optionally specify the size of each file, in bytes, to avoid delays when Snowpipe calculates the operations required to load the data.",
        "Snowflake provides REST endpoints and an Snowflake Information Schema table function for viewing your load history:",
        "REST endpoints:",
        "insertReport",
        "loadHistoryScan",
        "Information Schema table function:",
        "COPY_HISTORY",
        "Account Usage view:",
        "COPY_HISTORY",
        "Note that querying either the Information Schema table function or Account Usage view, unlike calling the REST endpoints, requires a running warehouse.",
        "Delete the staged files after you successfully load the data and no longer require the files. For instructions, see\nDeleting staged files after Snowpipe loads the data.",
        "Was this page helpful?",
        "On this page"
    ]
}