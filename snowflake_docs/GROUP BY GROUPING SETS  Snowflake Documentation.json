{
    "url": "https://docs.snowflake.com/en/sql-reference/constructs/group-by-grouping-sets.html",
    "title": "GROUP BY GROUPING SETS | Snowflake Documentation",
    "paragraphs": [
        "Query syntax",
        "GROUP BY GROUPING SETS is a powerful extension of the GROUP BY clause that computes multiple group-by clauses in a single statement. The group set is a set of dimension columns.",
        "GROUP BY GROUPING SETS is equivalent to the UNION of two or more GROUP BY operations in the same result set:",
        "GROUP BY GROUPING SETS(a) is equivalent to the single grouping set operation GROUP BY a.",
        "GROUP BY GROUPING SETS(a,b) is equivalent to GROUP BY a UNION ALL GROUP BY b.",
        "Where:",
        "Column alias appearing in the query block\u2019s SELECT list.",
        "Position of an expression in the SELECT list.",
        "Any expression on tables in the current scope.",
        "Snowflake allows up to 128 grouping sets in the same query block.",
        "The output typically contains some NULL values. Because GROUP BY ROLLUP\nmerges the results of two or more result sets, each of which was\ngrouped by different criteria, some columns that have a single value\nin one result set might have many corresponding values in the\nother result set. For example, if you do a UNION of a set of\nemployees grouped by department with a set grouped by seniority, the\nmembers of the set with the greatest seniority are not necessarily all\nin the same department, so the value of department_name is set to\nNULL. The following examples contain NULLs for this reason.",
        "These examples use a table of information about nurses who are trained to\nassist in disasters. All of these nurses have a license as nurses (e.g.\nan RN has a license as a \u201cRegistered Nurse\u201d), and an additional license\nin a disaster-related specialty, such as search and rescue, radio\ncommunications, etc. This example simplifies and uses just two categories\nof licenses:",
        "Nursing: RN (Registered Nurse) and LVN (Licensed Vocational Nurse).",
        "Amateur (\u201cham\u201d) Radio: Ham radio licenses include \u201cTechnician\u201d, \u201cGeneral\u201d, and \u201cAmateur Extra\u201d.",
        "Here are the commands to create and load the table:",
        "This query uses GROUP BY GROUPING SETS:",
        "Output:",
        "The first two rows show the count of RNs and LVNs (two types of nursing\nlicenses). The NULL values in the RADIO_LICENSE column for\nthose two rows are deliberate; the query grouped all of the LVNs together\n(and all the RNs together) regardless of their radio license, so the\nresults can\u2019t show one value in the RADIO_LICENSE column for each\nrow that necessarily applies to all the LVNs or RNs grouped in that row.",
        "The next three rows show the number of nurses with each type of ham radio\nlicense (\u201cTechnician\u201d, \u201cGeneral\u201d, and \u201cAmateur Extra\u201d). The NULL value\nfor MEDICAL_LICENSE in each of those three rows is deliberate because\nno single medical license necessarily applies to all members of each\nof those rows.",
        "The next example shows what happens when some columns contain NULL values.\nStart by adding three new nurses who don\u2019t yet have ham radio licenses.",
        "Then run the same query as before:",
        "Output:",
        "The first 5 lines are the same as in the previous query.",
        "The last line might be confusing at first \u2013 why is there a line that has\nNULL in both columns? And if all the values are NULL, why is the COUNT(*)\nequal to 3?",
        "The answer is that the NULL in the RADIO_LICENSE column of that row\noccurs because three nurses don\u2019t have any radio license.\n(\u201cSELECT DISTINCT RADIO_LICENSE FROM nurses\u201d now returns four distinct\nvalues: \u201cTechnician\u201d, \u201cGeneral\u201d, \u201cAmateur Extra\u201d, and \u201cNULL\u201d.)",
        "The NULL in the MEDICAL_LICENSES column occurs for the same reason that\nNULL values occur in the earlier query results: the nurses counted in this\nrow have different MEDICAL_LICENSES, so no one value (\u201cRN\u201d or \u201cLVN\u201d)\nnecessarily applies to all of the nurses counted in this row.",
        "If you\u2019d like, you can compare this output to the output of a GROUP BY without the GROUPING SETS clause:",
        "Output:",
        "Was this page helpful?",
        "On this page"
    ]
}