{
    "url": "https://docs.snowflake.com/en/user-guide/tables-hybrid-limitations",
    "title": "Unsupported features and limitations for hybrid tables | Snowflake Documentation",
    "paragraphs": [
        "The following guidance on unsupported features and limitations applies to hybrid\ntables, and is subject to change.",
        "Hybrid tables do not support:",
        "Cloning",
        "Clustering Keys",
        "Collations",
        "Data sharing",
        "Dynamic Tables",
        "Fail-safe",
        "Materialized Views",
        "Periodic rekeying",
        "Query Acceleration Service",
        "Replication",
        "Search Optimization Service",
        "Snowpipe",
        "Streams",
        "UNDROP",
        "Tri-Secret Secure",
        "Although cloning is not supported for hybrid tables, you can clone databases and schemas that\ncontain hybrid tables by using the IGNORE HYBRID TABLES parameter in the CREATE <object> \u2026 CLONE\nstatement.",
        "Hybrid tables are available in all commercial Amazon Web Services (AWS) regions.",
        "Note the following restrictions:",
        "Hybrid tables are not available in Azure or Google Cloud Platform (GCP).",
        "Hybrid tables are not available in U.S. SnowGov Regions.",
        "Hybrid tables are not supported in trial accounts.",
        "If you are a Virtual Private Snowflake (VPS) customer, contact\nSnowflake Support to inquire about enabling hybrid tables for your account.",
        "Clustering keys are not supported in hybrid tables. For more information,\nsee Clustering Keys & Clustered Tables. Data in hybrid tables is ordered\nby primary key.",
        "By default, hybrid tables use a session-based consistency model where read operations in the session return\nthe latest data from write operations in the same session. There might be some staleness (less than 100ms) for\nchanges made outside of the session. To avoid staleness,\nset READ_LATEST_WRITES = true at the statement or session level. Note that this\nmight incur some latency overhead of a few milliseconds.",
        "While primary key, unique, and foreign key constraints are enforced in hybrid tables, the following limitations apply:",
        "Constraints can only be defined at table creation.",
        "Constraints are enforced at the row level.",
        "Constraints are not enforced at the statement or transaction level (that is, deferred constraints).",
        "You cannot alter a column to be unique.",
        "The following additional limitations apply to foreign keys:",
        "Foreign key constraints are supported only among hybrid tables that belong to the same database.",
        "The referenced table from a foreign key constraint cannot be truncated as long as the foreign key relationship exists.",
        "Foreign key constraints do not support partial matching.",
        "Foreign key constraints do not support deferrable behavior.",
        "Foreign key constraints only support RESTRICT and NO ACTION behaviors for DELETE and UPDATE operations.",
        "When you load a hybrid table with the COPY INTO command, ABORT_STATEMENT is the only option that is\nsupported for ON_ERROR. Setting ON_ERROR=SKIP_FILE returns an error. For\nmore information, see Loading data.",
        "You are limited to storing 2 TB of data in hybrid tables per Snowflake database.\nSee Quotas and Throttling for more information.",
        "Columns with geospatial data types\n(GEOGRAPHY and GEOMETRY), semi-structured data types\n(ARRAY, OBJECT, VARIANT), and vector data types (VECTOR) are not supported as either\nPRIMARY KEY columns (which are automatically indexed) or explicitly indexed columns. (Hybrid table columns support these\ndata types as long as the columns are not indexed.)",
        "The TIMESTAMP_TZ data type (or a TIMESTAMP data\ntype that resolves to TIMESTAMP_TZ) is not supported for columns that are indexed using UNIQUE, PRIMARY KEY, and FOREIGN KEY\nconstraints. However, TIMESTAMP_TZ is supported for secondary indexes.",
        "See also Secondary indexes.",
        "When using DML commands to change a small number of rows, optimize performance\nby using INSERT, UPDATE, or DELETE statements instead of MERGE.",
        "The FILTER, REDUCE, and\nTRANSFORM higher-order functions are not supported in queries\nagainst hybrid tables.",
        "The CREATE TABLE \u2026 AS SELECT command is recommended for bulk-loading data\ninto a hybrid table. This command is optimized for performance, and\nis approximately 10 times faster than other commands, such as COPY or\nINSERT INTO \u2026 SELECT, when you are loading millions of records.",
        "See Loading data for more information.",
        "You can include hybrid tables in a Snowflake Native App. However, hybrid tables\ncannot be shared from the provider to the consumer. Native Apps can create\nhybrid tables in the consumer account, and they can read from and write to\nthose hybrid tables. You can also expose hybrid tables to application roles\nso that they can be queried directly by consumer users.",
        "You cannot create a hybrid table in a provider account, nor can you include\nthat hybrid table in a view that is shared through the Native App.",
        "You cannot use hybrid tables if your Snowflake account is enabled to use\nperiodic rekeying. If periodic rekeying is enabled in your account and you want to use hybrid tables, you\nmust use an ALTER ACCOUNT command to set the PERIODIC_DATA_REKEYING parameter to FALSE.",
        "Queries against hybrid tables do not use the results cache, as defined with the\nUSE_CACHED_RESULT parameter. See Using Persisted Query Results.",
        "Your usage of hybrid tables is restricted by quotas in order to ensure equitable availability of\nshared resources, ensure consistent quality of service, and reduce spikes in usage.",
        "Quota",
        "Default",
        "Notes",
        "Hybrid storage",
        "2 TB per Snowflake database",
        "This quota controls how much data you can store in hybrid tables. This limit applies only to\nactive hybrid table data in the row store; it does not apply to object storage.\nIf you exceed the storage quota, write operations that add data to any hybrid tables\nare temporarily blocked until you bring your hybrid storage consumption back under\nquota by deleting data.",
        "Hybrid table requests",
        "Approximately 4,000 operations per second, per Snowflake database",
        "This quota controls the rate at which you can read from and write to hybrid tables. You should be able\nto achieve up to 4,000 operations per second against hybrid tables for a balanced workload consisting of 80% point reads\nand 20% point writes. To monitor throttling, see the example in AGGREGATE_QUERY_HISTORY view.",
        "Databases that contain hybrid tables",
        "100 total per Snowflake account, and no more than 10 databases added within a one-hour window",
        "This quota controls how many databases within your Snowflake account may contain hybrid tables.\nIf you exceed this quota, you will be unable to create a hybrid table in a new database without\ndropping all hybrid tables from an existing database. If necessary, you can request help from Snowflake Support to\nincrease the quota.",
        "Throttling can be caused by a combination of factors that result in too many read and write requests being sent to the hybrid\ntable storage provider:",
        "Too many read requests can occur because of poorly optimized queries or because of a large, aggressive workload with very\nhigh query concurrency.",
        "Too many write requests can occur because the bulk-load path wasn\u2019t chosen when a table was loaded or because the workload\nconsists of too many concurrent write operations.",
        "If you receive an error or throttling occurs because of a quota limit, contact your system administrator or DBA to look into the\noverall Unistore workload; possibly it can be modified to avoid exceeding the quota. DBAs can contact Snowflake Support to\nevaluate query performance and quota usage. For some workloads, you might need to initiate a quota increase by requesting help from\nthe support team.",
        "Replication of hybrid tables\nis currently not supported.",
        "The following secondary index features are not supported:",
        "Adding a column to an index.",
        "Modifying an index on an existing hybrid table.",
        "To use a secondary index on a hybrid table, you must use a role that is granted the SELECT privilege on the table.\nIf you only have access to objects other than the hybrid table itself, you will not be able to use secondary indexes.",
        "TIMESTAMP columns are supported. However, comparisons (for example, WHERE predicates) against TIMESTAMP columns that\nare part of a composite key in a base table or index are not currently supported and cause an error.",
        "For more information about secondary indexes, see Adding indexes to a hybrid table.",
        "You can execute up to approximately 4,000 operations per second against\nhybrid tables in your account for a balanced 80%/20% read/write workload. If\nyou exceed this limit, Snowflake might reduce your throughput.\nSee Quotas and Throttling for more information.",
        "Time Travel queries are supported against hybrid tables with the following limitations:",
        "Only the TIMESTAMP parameter is supported in the AT clause. The OFFSET, STATEMENT, and STREAM parameters are not supported.",
        "The value of the TIMESTAMP parameter must be the same for all tables that belong to the same database.\nIf the tables belong to different databases, different TIMESTAMP values may be used.",
        "Cloning is not supported in general for hybrid tables so you cannot specify the AT clause in CREATE TABLE \u2026 CLONE.",
        "The BEFORE clause is not supported.",
        "The UNDROP TABLE command, which depends on Time Travel, is not supported.",
        "For hybrid tables, the transaction scope is the database in which the hybrid table resides. All the hybrid tables\nreferenced in a transaction must reside in the same database; standard Snowflake tables referenced in the same\ntransaction may reside in different databases.",
        "You cannot create hybrid tables that are temporary or transient.\nIn turn, you cannot create hybrid tables within transient schemas or databases.",
        "You cannot use hybrid tables if your Snowflake account is enabled to use Tri-Secret Secure. Prior to\nusing hybrid tables, verify whether your Snowflake account is enabled for Tri-Secret Secure by contacting Snowflake Support.",
        "UNDROP is not supported for hybrid tables.\nAdditionally:",
        "UNDROP SCHEMA and\nUNDROP DATABASE commands succeed for entities that\ncontain hybrid tables, but those hybrid tables and their associated\nconstraints and indexes cannot be restored.",
        "The DELETED column in TABLES view displays\nthe time of deletion as the UNDROP time of the parent entity.",
        "ACCESS_HISTORY view contains an entry for\nDROP/UNDROP of the parent entity, but no entries for hybrid tables.",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}