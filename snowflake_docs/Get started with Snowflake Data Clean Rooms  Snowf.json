{
    "url": "https://docs.snowflake.com/en/user-guide/cleanrooms/getting-started#collaborate-with-accounts-in-different-regions",
    "title": "Get started with Snowflake Data Clean Rooms | Snowflake Documentation",
    "paragraphs": [
        "Feature \u2014 Generally Available",
        "Not available in government regions.",
        "This topic describes the tasks an administrator must complete to set up Snowflake Data Clean Rooms.",
        "In order to use a Snowflake Data Clean Room, your account must:",
        "Be a capacity account.",
        "Have the required Snowflake Edition.",
        "Have accepted Provider & Consumer Terms.",
        "Use UTF-8 collation in your Snowflake account.",
        "If you do not meet certain requirements and need to upgrade, contact Snowflake Support.",
        "You need a Snowflake account that has an upfront capacity commitment to use Snowflake Data Clean Rooms.",
        "Snowflake On Demand accounts cannot create or use a clean room.",
        "Use the following table to determine which Snowflake Edition is required for\nthe Snowflake account of a clean room collaborator:",
        "Collaborator",
        "Task",
        "Required Snowflake Edition",
        "Provider",
        "Create a clean room",
        "Enterprise Edition or higher",
        "Consumer",
        "Join and use a clean room",
        "Standard Edition or higher",
        "Before using a Snowflake Data Clean Room as a provider or consumer, you need to agree to additional Snowflake terms and abide by Snowflake\npolicies. For details, see Legal requirements for providers and consumers of listings.",
        "The only collation that Snowflake clean rooms support is UTF-8. Be sure to set your account collation\nto 'utf8' before trying to install the clean room environment.",
        "Important",
        "The user who initially signs up as a clean room participant must have the ACCOUNTADMIN role in the Snowflake account associated with the\nclean room environment. This clean room administrator needs to use the ACCOUNTADMIN role to configure the Snowflake account in subsequent\nsteps in the getting started process.",
        "Do not install the native app from the Snowflake Marketplace.  Instead, use the sign up link to sign up.\nAfter signing up for the clean room environment, follow the steps to install\nthe app as described in Configure the Snowflake account.",
        "All clean room users, including the user signing up for the first time, must use a\nsupported authenticator app to enable multi-factor authentication (MFA).",
        "To sign up and log in to the clean room environment:",
        "Navigate to the sign-up page.",
        "Enter the account identifier of your Snowflake account using the hyphenated form of the\naccount name format (that is, orgname-acctname).",
        "Enter your email address.",
        "Specify a company name, which is used to identify the clean room environment when users sign in.",
        "Select Sign Up. You are sent an email.",
        "After receiving the email, do the following:",
        "Select Verify Email. The sign up page re-opens.",
        "Specify a Name and Password.",
        "Select Sign up.",
        "When redirected to a new page, sign in to your clean room environment.",
        "If your Snowflake account uses a network policy to control network traffic, you must explicitly allow\ntraffic from the IP addresses that the web app uses to communicate with your Snowflake account.",
        "Use the following to determine which IP addresses must be allowed by the network policy based upon the region of your Snowflake account on\nAmazon Web Service (AWS), Microsoft Azure (Azure), or Google Cloud:",
        "Snowflake account region",
        "Web app IP addresses",
        "AWS US West (Oregon)",
        "AWS US East (Ohio)",
        "AWS US East (N. Virginia)",
        "AWS South America (Sao Paulo)",
        "Azure West US 2 (Washington)",
        "Azure Central US (Iowa)",
        "Azure South Central US (Texas)",
        "Azure East US 2 (Virginia)",
        "GCP US Central1 (Iowa)",
        "GCP US East4 (N. Virginia)",
        "52.7.249.136",
        "34.195.16.248",
        "52.7.210.215",
        "AWS Canada (Central)",
        "Azure Canada Central (Toronto)",
        "15.223.145.218",
        "3.96.6.109",
        "15.222.142.44",
        "AWS EU (Ireland)",
        "AWS Europe (London)",
        "AWS EU (Paris)",
        "AWS EU (Frankfurt)",
        "AWS EU (Stockholm)",
        "AWS EU (Zurich)",
        "Azure UK South (London)",
        "Azure North Europe (Ireland)",
        "Azure West Europe (Netherlands)",
        "Azure Switzerland North (Zurich)",
        "Azure UAE North (Dubai)",
        "GCP Europe West2 (London)",
        "GCP Europe West4 (Netherlands)",
        "54.93.86.99",
        "3.126.238.8",
        "3.127.143.168",
        "AWS Asia Pacific (Mumbai)",
        "Azure Central India (Pune)",
        "35.154.94.29",
        "13.235.168.249",
        "15.206.48.175",
        "AWS Asia Pacific (Singapore)",
        "AWS Asia Pacific (Tokyo)",
        "AWS Asia Pacific (Osaka)",
        "AWS Asia Pacific (Seoul)",
        "AWS Asia Pacific (Jakarta)",
        "Azure Southeast Asia (Singapore)",
        "Azure Japan East (Tokyo)",
        "13.228.90.174",
        "52.220.42.130",
        "52.220.249.16",
        "AWS Asia Pacific (Sydney)",
        "Azure Australia East (New South Wales)",
        "52.65.205.236",
        "52.62.198.227",
        "3.104.160.96",
        "A Snowflake user with the ACCOUNTADMIN role must configure the Snowflake account associated with the clean room environment before users can\ncreate and use clean rooms.",
        "Important",
        "As part of the instructions in this section, you create and log in as a service account user. When logging in as this user,\ndo not enroll in multi-factor authentication (MFA).",
        "The user with the ACCOUNTADMIN role must have a valid first name, last name, and email defined for their user object. To verify whether\nthese properties are defined, execute the DESCRIBE USER command.",
        "You\u2019ll complete the following general tasks as you configure the Snowflake account:",
        "Create a service account user that represents the clean room environment so clean rooms can access the Snowflake account.",
        "Install a Snowflake Native App that allows clean rooms to interact with data in a Snowflake account.",
        "Register the databases, schemas, and objects that contain the data that collaborators can access in clean rooms.",
        "To complete these tasks, execute the following steps:",
        "Access the Snowflake Admin console in the clean room environment. Do the following:",
        "Navigate to the Snowflake Data Clean Rooms login page.",
        "Enter your email address, and select Continue.",
        "Enter your password.",
        "If you are associated with multiple clean room environments, select the Snowflake account that you are configuring.",
        "In the left navigation, select Snowflake Admin.",
        "Select Login to Snowflake, and authenticate as a Snowflake user with the ACCOUNTADMIN role.",
        "Specify the details for the service account user that clean rooms use to interact with Snowflake. Be sure to remember these details as\nyou will need them in a subsequent step. Note that after implementation, Snowflake uses key-pair authentication, not username/password, to\nauthenticate the service account user. Do the following:",
        "Enter the email address associated with the service account user.",
        "In the New Snowflake Username field, specify a name that is unique to the Snowflake account.",
        "Specify a password.",
        "Select Create to create the service account user.",
        "Verify the email of the new service account user. Do the following:",
        "Select Log into your Snowflake account.",
        "Sign in to Snowsight using the credentials of the service account user. You specified these in the previous step. If prompted,\ndo not enroll in multi-factor authentication (MFA).",
        "To open the user menu, select the username of the service account user, and then\nselect My profile.",
        "Select Resend verification email. A verification email is sent to the email address of the service account user.",
        "Access the email inbox of the service account user, open the verification email, and select Validate Your Email.",
        "Return to the Snowflake Admin console of the clean room environment, and select Verify Status.",
        "To install the Snowflake Native App associated with Snowflake Data Clean Rooms (SAMOOHA_BY_SNOWFLAKE), follow these steps:",
        "Optional: Use the Setup Scripts section to review the code that is executed in your account to install the Snowflake Native App. Do\nnot execute this code manually.",
        "Do not change the default name of the application.",
        "Select Install to install the Snowflake Native App.",
        "The process of installing the Snowflake Native App can take some time. Periodically select Refresh to check whether it is complete before\nproceeding to the next step.",
        "In the Database Registration section, select the databases, schemas, and objects that contain the data that you want collaborators\nto be able to access in clean rooms. Registering a database or schema registers all of the objects within that database or schema.",
        "The web app of Snowflake Data Clean Rooms supports the following objects:",
        "Tables",
        "External tables",
        "Apache Iceberg\u2122 tables",
        "Dynamic tables",
        "Views",
        "Materialized views",
        "Secure views. The owner of a secure view must be the SAMOOHA_APP_ROLE role.",
        "Note",
        "Once you complete these steps, new objects added to registered databases or schemas are not available to clean room collaborators\nimmediately. If an object is added to a registered database or schema, you need to use the web app\u2019s Snowflake Admin option to\nreturn to the Database Registration section, and then select Resync.",
        "For information about what gets installed in your Snowflake account when you use Snowflake Data Clean Rooms, see\nSnowflake Data Clean Rooms: Installation details.",
        "The service account user that the clean room environment uses to communicate with your Snowflake account uses key-pair authentication to authenticate. If your Snowflake account uses authentication policies to control how users authenticate, then the authentication policy controlling the service account user must allow key-pair authentication.",
        "To allow key-pair authentication, an authentication policy must be created with AUTHENTICATION_METHODS = ALL or AUTHENTICATION_METHODS = KEYPAIR. If your Snowflake account has an account-level authentication policy that does not allow key-pair authentication, you need to create a new authentication policy with the appropriate parameter, then assign the policy to the service account user that was created during the installation process.",
        "In order to collaborate with a Snowflake customer whose account is in a different region than your account, you must enable\nCross-Cloud Auto-Fulfillment for your clean\nroom environment. A Snowflake user with the ACCOUNTADMIN role must enable Cross-Cloud Auto-Fulfillment before clean room administrators\ncan add accounts in other regions as collaborators.",
        "To configure your clean room environment to allow collaborators to be in a different region:",
        "Navigate to the Snowflake Data Clean Rooms login page.",
        "Enter your email address, and select Continue.",
        "Enter your password.",
        "If you are associated with multiple clean room environments, select the Snowflake account that you are configuring.",
        "Select Admin \u00bb Snowflake Admin.",
        "Select Login to Snowflake, and authenticate as a Snowflake user with the ACCOUNTADMIN role.",
        "Toggle on Cross-Cloud Auto-Fulfillment.",
        "There are additional costs associated with collaborators who are in a different region. For more information about how these costs are\nincurred, see Understand Cross-Cloud Auto-Fulfillment costs.",
        "Limitations on cross-region collaboration include the following:",
        "Collaborators must share the same web app hosting region. For example, if the web app hosting region for one account is\nAmazon Web Services: US East (N. Virginia) and the web hosting region for another account is Amazon Web Services: Asia Pacific (Mumbai),\nthen the two Snowflake customers cannot collaborate. To determine whether two collaborators share the same web app hosting region,\nsee Web app hosting.",
        "A provider cannot use differential privacy in the clean room.",
        "Collaborators cannot link external tables and iceberg tables in clean rooms.",
        "A provider cannot view the request logs being sent from the consumer of a clean room.",
        "A consumer cannot run a multi-provider analysis.",
        "Collaborators cannot use masking policies or row access policies.",
        "Use this section to troubleshoot problems you might have after completing the steps in this topic.",
        "Solution:\nEnsure that the IP addresses associated with the web app are allowed by your network policies. For a list of these IP addresses,\nsee Add IP addresses to your allowed list.",
        "Solution #1:\nUse the DESCRIBE USER command to double-check that the Snowflake user that you used to configure Snowflake has a\nvalid first name, last name, and email. If the user is missing any of these, execute the ALTER USER command to\nspecify them.",
        "Solution #2:\nTry uninstalling the Snowflake Native App for Snowflake Data Clean Rooms, and then re-installing it.",
        "To uninstall the app, see\nUninstall a Snowflake Native App.\nIf you installed the application with its default name, it is called SAMOOHA_BY_SNOWFLAKE.",
        "To re-install the app:",
        "Sign in to the web app.",
        "In the left navigation, select Snowflake Admin.",
        "Select Login to Snowflake, and authenticate as a Snowflake user with the ACCOUNTADMIN role.",
        "Use the DESCRIBE USER command to confirm that the Snowflake user with the ACCOUNTADMIN role that you just\nused to authenticate has a valid first name, last name, and email. If the user is missing any of these, execute the\nALTER USER command to specify them.",
        "To install the Snowflake Native App, select Install.",
        "Accept the default name of the application during the installation process.",
        "For additional steps needed to set up a clean room environment, including adding users and collaborators, see\nSnowflake Data Clean Rooms: Administrator tasks.",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}