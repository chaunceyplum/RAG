{
    "url": "https://docs.snowflake.com/en/developer-guide/udf/sql/udf-sql-tabular-functions",
    "title": "Tabular SQL UDFs (UDTFs) | Snowflake Documentation",
    "paragraphs": [
        "Snowflake supports SQL UDFs that return a set of rows, consisting of 0, 1, or multiple rows, each of which has 1 or more columns.\nSuch UDFs are called tabular UDFs, table UDFs, or, most frequently, UDTFs (user-defined table functions).",
        "A UDTF can be accessed in the FROM clause of a query.",
        "For a more detailed description of the general syntax for all UDFs, including SQL UDTFs, see CREATE FUNCTION.",
        "This should be valid database object name that follows the rules described at:\nIdentifier requirements.",
        "This must be an expression, for example a column name, a literal, or an\nexpression that can be evaluated to a single value.\nTypically, a function takes one argument, which is a column name.\nYou can pass more than one value, for example, more than one column name,\nor a column name and one or more literal values.",
        "It is possible to pass a constant or no value at all. However, in most cases,\nif the input is the same every time, then the output is the same every time.",
        "Specifies that the UDF should return a table. Inside the parentheses, specify name-and-type pairs for columns (as described below) to\ninclude in the returned table.",
        "The name of an output column to include in the returned table. There must be at least one output column.",
        "The data type of the output column.",
        "A valid SQL expression or statement that returns a table with zero or more rows, each of which has one or more columns.\nThe outputs must match the number and data types specified in the RETURNS clause.",
        "The main body (aka \u201cdefinition\u201d) of a SQL UDTF must be a SELECT expression.",
        "Although the delimiters around the sql_expression are typically single quotes, you can use\na pair of dollar signs $$ as the delimiter. The closing delimiter must match the opening\ndelimiter. A pair of dollar signs is convenient when the sql_expression\ncontains single quotes. An example using a pair of dollar signs is included in\nthe Examples section below.",
        "If the delimiter is a single quote, and the body contains a single quote, you can escape the single quote in the\nbody by using the backslash character \\ as the escape character. An example is included in the Examples\nsection below.",
        "The columns defined in the UDTF can appear anywhere that a normal table column can be used.",
        "The return types specified in the RETURNS clause determine the names and types of the columns in the tabular results and must match the\ntypes of the expressions in the corresponding positions of the SELECT statement in the function body.",
        "When calling a UDTF, you must include the UDTF name and arguments inside parentheses following the TABLE keyword. For more, see\nCalling a SQL UDTF.",
        "Note",
        "Tabular functions (UDTFs) have a limit of 500 input arguments and 500 output columns.",
        "When calling a UDTF in the FROM clause of a query, specify the UDTF\u2019s name and arguments inside the parentheses that follow the TABLE\nkeyword.",
        "In other words, use a form such as the following for the TABLE keyword when calling a UDTF:",
        "This is an artificially simple example of a UDTF, which hard-codes the output. This also illustrates the\nuse of $$ as a delimiter:",
        "This example is similar to the preceding example, but it uses single quotes as the delimiter, and uses the \\\nescape character to escape the single quotes in the body of the UDTF:",
        "This is another basic example of a UDTF. It queries a table and returns two of the columns from that table:",
        "This same functionality can also be implemented using a view.",
        "Create and use a SQL UDTF that returns country information (COUNTRY_CODE and COUNTRY_NAME) for a specified user ID:",
        "Create a SQL UDTF that returns the favorite color for a specified year:",
        "Use the UDTF in a query:",
        "Use the UDTF in a join with another table; note that the join column from the table is passed as an argument to the function.",
        "Use a WHERE clause, rather than ON, for additional predicates:",
        "Use the UDTF with a constant in a join expression; note that a WHERE clause, rather than ON, must be used for additional join conditions:",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}