{
    "url": "https://docs.snowflake.com/en/user-guide/account-replication-error-notifications",
    "title": "Error notifications for replication and failover groups | Snowflake Documentation",
    "paragraphs": [
        "Standard & Business Critical Feature",
        "Database and share replication are available to all accounts.",
        "Replication of other account objects & failover/failback require Business Critical Edition (or higher).\nTo inquire about upgrading, please contact Snowflake Support.",
        "You can receive error notifications for refresh operation failures by setting a notification integration for a primary replication\nor failover group.",
        "When you enable error notifications for a replication or failover group, a notification is sent via the designated email, cloud messaging\nservice, or the webhook when a refresh operation fails.",
        "Notifications includes the following information:",
        "Source and target account names.",
        "Source and target regions (and region group, if applicable).",
        "Primary and secondary replication or failover group name.",
        "Timestamp when the error occurred.",
        "Error code and message.",
        "Source and target login URL.",
        "Notifications are enabled on the primary replication or failover group and sent using a notification integration. The\nnotification integration is not required to be replicated to the target account. In the case of failover, if the notification\nintegration has been replicated, or there is an existing notification integration with the same name, in the newly promoted\nsource account, error notifications continue to be sent.",
        "If the notification integration is not available, error notifications are not sent for refresh operation failures.",
        "A notification integration is required to send error notifications. The notification integration must be one of the\nfollowing types to send email notifications on refresh operation failures:",
        "The email notification integration must have at least one verified email address in the DEFAULT_RECIPIENTS list.",
        "For more information about creating an email notification with a default list of recipients, see\nSpecify a default list of recipients and a default subject line.",
        "You can use a notification integration that is configured to push notifications to a messaging service for any of the\ncloud providers supported by Snowflake. You must set the notification integration TYPE parameter to QUEUE and the DIRECTION\nparameter to OUTBOUND.",
        "For more information, see Sending notifications to cloud provider queues (Amazon SNS, Google Cloud PubSub, and Azure Event Grid).",
        "You can use a notification integration that is configured to push notifications to a webhook for any of the external systems\nsupported by Snowflake. Set the notification integration TYPE parameter to WEBHOOK. You may also need to create a secret\n(if required by the external system).",
        "For more information, see Sending webhook notifications.",
        "To create an email notification integration named my_notification_int with email address first.last@example.com, follow\nthese steps:",
        "Ensure that the email address first.last@example.com has been verified.",
        "Create the notification integration by executing the CREATE NOTIFICATION INTEGRATION command. For example:",
        "To create a notification integration for pushing notifications to a cloud provider queue, follow the instructions provided for the\ncurrently supported cloud provider queues:",
        "Creating a notification integration to send notifications to an Amazon SNS topic",
        "Creating a notification integration to send notifications to a Microsoft Azure Event Grid topic",
        "Creating a notification integration to send notifications to a Google Cloud Pub/Sub topic",
        "To create a notification integration for pushing notifications to an external system webhook, follow the instructions provided for\nthe currently supported external system webhooks:",
        "Creating a Slack secret and Slack notification integration",
        "Creating a Microsoft Teams secret and Microsoft Teams notification integration",
        "Creating a PagerDuty secret and PagerDuty notification integration",
        "Important",
        "The webhook notification integration must specify the WEBHOOK_BODY_TEMPLATE parameter with SNOWFLAKE_WEBHOOK_MESSAGE\nas a placeholder value. When the notification is sent, the placeholder is replaced with the contents of the replication\nerror notification, as described in Error notifications for refresh operation failures.",
        "The format for specifying WEBHOOK_BODY_TEMPLATE depends on the external system:",
        "For Slack or Microsoft Teams, WEBHOOK_BODY_TEMPLATE utilizes the following single-value JSON object\nformat as its value:",
        "For PagerDuty, WEBHOOK_BODY_TEMPLATE utiilizes a multi-value JSON object as its value, but with the following differences\nfrom a standard PagerDuty notification integration:",
        "Within the payload key, the summary key is not used to specify SNOWFLAKE_WEBHOOK_MESSAGE.",
        "Instead, an additional custom_details key is used to specify SNOWFLAKE_WEBHOOK_MESSAGE.",
        "For example:",
        "To enable error notifications for an existing replication/failover group, use the ALTER REPLICATION GROUP\nor ALTER FAILOVER GROUP command to set the ERROR_INTEGRATION parameter.",
        "For example, add notification integration my_notification_int to failover group my_fg. The following statement must\nbe executed from the source account:",
        "To create a replication/failover group and enable error notifications, use the CREATE REPLICATION GROUP\nor CREATE FAILOVER GROUP command and set the ERROR_INTEGRATION parameter.",
        "For example, to create failover group my_fg to enable replication and failover of databases db1, db2 to accounts\nmyaccount2 and myaccount2 in organization myorg, execute the following statement in the source account to\ncreate a primary failover group:",
        "Note",
        "If the replication schedule for a replication or failover group is set to a high frequency, for example one minute,\nerror notifications for the same issue are sent for every scheduled refresh operation.",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}