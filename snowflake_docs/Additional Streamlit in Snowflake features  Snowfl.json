{
    "url": "https://docs.snowflake.com/en/developer-guide/streamlit/additional-features",
    "title": "Additional Streamlit in Snowflake features | Snowflake Documentation",
    "paragraphs": [
        "This topic describes additional Streamlit in Snowflake features.",
        "Custom UI enables customization of the look, feel, and front-end behavior of Streamlit in Snowflake apps.\nThis feature supports the following:",
        "Custom HTML and CSS using unsafe_allow_html=True in st.markdown",
        "Iframed HTML, CSS, and JavaScript using st.components.v1.html",
        "Note",
        "Custom UI has some restrictions related to the Content Security Policy (CSP). For more information, see Limitations when loading external resources in Streamlit in Snowflake.",
        "To start customizing your Streamlit in Snowflake app, simply call st.components.v1.html, or st.markdown with unsafe_allow_html=True.\nThe provided HTML is added to the app front end in the user\u2019s browser.",
        "Note",
        "You must specify the inline HTML or load the HTML into a string. You cannot pass a URL or\na file path directly to the command to run or embed.",
        "See the following examples for customizing your Streamlit in Snowflake apps:",
        "Customize your sidebar background color:",
        "Add an app logo with streamlit-extras:",
        "Make sure to install the streamlit-extras package before running.",
        "Set the sidebar width programmatically:",
        "Create an in-browser DataFrame exploratory data analysis (EDA) with ydata-profiling:",
        "You can create secure access to specific network locations external to Snowflake, and you can use that access from within the\nStreamlit app code. You can enable access through an external access integration.",
        "To enable a Streamlit app to use an external access integration, you can run the CREATE STREAMLIT\nor ALTER STREAMLIT command and set the EXTERNAL_ACCESS_INTEGRATIONS parameter to include that integration.",
        "With an external access integration, you can use Python libraries that access external locations, such as requests or urllib,\nand use third-party libraries that require access to a network location.",
        "For more information, see External network access overview.",
        "The following example shows how to create an external access integration for an outbound request to the OpenAI API. This example includes\nsetting up the security integration and granting the required privileges.",
        "To create a network rule that represents the external network\u2019s location and restrictions for access, use the CREATE NETWORK RULE\ncommand:",
        "For more information, see Creating a network rule to represent the external network location.",
        "To create a secret that represents credentials required to authenticate with the external network location, use the\nCREATE SECRET command:",
        "For more information, see Creating a secret to represent credentials.",
        "To create an external access integration, run the CREATE EXTERNAL ACCESS INTEGRATION command, setting ALLOWED_NETWORK_RULES\nto the network rule you created and ALLOWED_AUTHENTICATION_SECRETS to the secret you created:",
        "To grant the required privileges to use the SECRET and INTEGRATION objects for external access to the Streamlit app creator, use the GRANT <privileges>\ncommand:",
        "To enable the Streamlit app to use the integration, run the ALTER STREAMLIT command, setting the\nEXTERNAL_ACCESS_INTEGRATIONS property to the integration:",
        "Note",
        "You can also set up a new Streamlit object to use an external access integration by specifying the EXTERNAL_ACCESS_INTEGRATIONS parameter\nwhen you run the CREATE STREAMLIT command:",
        "In your Streamlit app code, call the external API:",
        "Preview Feature \u2014 Open",
        "Available to all accounts.",
        "You can set a custom sleep timer for a Streamlit app to auto-suspend.",
        "To set the custom sleep timer, create a config.toml configuration file inside the .streamlit folder on the path specified by the ROOT_LOCATION parameter of the STREAMLIT object.",
        "For example, if you want the Streamlit app to auto-suspend after 8 minutes, add the following to the config.toml file:",
        "Upload the config.toml file to the stage location:",
        "For more information about working with Streamlit files, see Create and deploy Streamlit apps using SQL.",
        "Note",
        "You can set the streamlitSleepTimeoutMinutes to any value between 5 to 240 minutes.",
        "If you do not create the configuration file to specify the timer, the default auto-suspend time is 15 minutes.",
        "To use context functions such as CURRENT_USER\nand data from tables with row access policies in a Streamlit in Snowflake app, a user with the\nACCOUNTADMIN role must grant the global READ SESSION privilege to the Streamlit app owner role, as shown in the following example:",
        "Note",
        "In a Streamlit in Snowflake app, you can\u2019t use row access policies that use CURRENT_ROLE. Streamlit in Snowflake apps run with owner\u2019s rights,\nso using CURRENT_ROLE inside a Streamlit app always returns the app owner role.\nFor more information, see Understanding owner\u2019s rights and Streamlit in Snowflake apps.",
        "You can use a Streamlit in Snowflake app to govern access to rows in a table protected by a row access policy.\nSpecify the CURRENT_USER function in the body of the row access policy and add the row access policy to the table.",
        "The following example demonstrates how to govern access to a table that is protected by a row access policy in a Streamlit in Snowflake app.",
        "Create a table and insert data:",
        "Create a row access policy:",
        "Add the row access policy to the table:",
        "Create a Streamlit app.",
        "Grant the global READ SESSION privilege to the Streamlit app owner role:",
        "Add the following code to your Streamlit app:",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}