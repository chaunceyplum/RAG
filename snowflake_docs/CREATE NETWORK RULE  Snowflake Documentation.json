{
    "url": "https://docs.snowflake.com/en/sql-reference/sql/create-network-rule",
    "title": "CREATE NETWORK RULE | Snowflake Documentation",
    "paragraphs": [
        "Creates a network rule or replaces an existing network rule.",
        "ALTER NETWORK RULE , DROP NETWORK RULE , SHOW NETWORK RULES ,\nDESCRIBE NETWORK RULE",
        "Identifier for the network rule.",
        "The identifier value must start with an alphabetic character and cannot contain spaces or special characters unless the entire identifier\nstring is enclosed in double quotes (e.g. \"My object\"). Identifiers enclosed in double quotes are case-sensitive.",
        "For more details, see Identifier requirements.",
        "Specifies the type of network identifiers being allowed or blocked. A network rule can have only one type.",
        "IPV4 indicates that the network rule will allow or block network traffic based on the IPv4 address of the request origin.",
        "AWSVPCEID indicates that the network rule will allow or block network traffic over\nAWS PrivateLink.",
        "AZURELINKID indicates that the network rule will allow or block network traffic over\nAzure Private Link.",
        "HOST_PORT indicates that the network rule will allow outgoing network traffic based on the domain of the request destination.",
        "When TYPE = HOST_PORT, the MODE parameter should be set to EGRESS.",
        "PRIVATE_HOST_PORT indicates that the network rule allows outgoing network traffic to use\nprivate connectivity to an external network location.",
        "When TYPE = PRIVATE_HOST_PORT, the MODE parameter must be set to EGRESS.",
        "Specifies the network identifiers that will be allowed or blocked.",
        "Valid values in the list are determined by the type of network rule:",
        "When TYPE = IPV4, each value must be a valid IPv4 address or range of addresses.",
        "When TYPE = AWSVPCEID, each value must be a valid VPCE ID of an AWS S3 endpoint. VPC IDs are not supported.",
        "When TYPE = AZURELINKID, each value must be a valid LinkID of an Azure private endpoint. Execute the SYSTEM$GET_PRIVATELINK_AUTHORIZED_ENDPOINTS function to retrieve the LinkID associated with an account.",
        "When TYPE = HOST_PORT, each value must resolve to a valid domain. Optionally, it can also include a port or range of ports.",
        "The valid port range is 1-65535. If you do not specify a port, it defaults to 443. If an external network location supports dynamic ports, you need to specify all possible ports.",
        "To allow access to all ports, define the port as 0. For example, company.com:0.",
        "When the value resolves to a domain, you can use a single asterisk as a wildcard character. The asterisk matches only alphanumeric\ncharacters and hyphens (-).",
        "Wildcards are supported only for a single level of subdomains, as in the following examples:",
        "*.google.com",
        "snowflake-*.google.com and snowflake*abc.google.com",
        "Preview Feature \u2014 Open",
        "Using wildcards in network rule values is a preview feature available to all accounts.",
        "When TYPE = PRIVATE_HOST_PORT, specify one valid domain. Do not include a port or a range of ports.",
        "Specifies what is restricted by the network rule.",
        "The behavior of the INGRESS mode depends on the value of the network rule\u2019s TYPE property.",
        "If TYPE=IPV4, by default the network rule controls access to the Snowflake service only.",
        "If the account administrator enables the ENFORCE_NETWORK_RULES_FOR_INTERNAL_STAGES parameter, then MODE=INGRESS and\nTYPE=IPV4 also protects an AWS internal stage.",
        "If TYPE=AWSVPCEID, then the network rule controls access to the Snowflake service only.",
        "Allows or blocks requests to an AWS internal stage without restricting access to the Snowflake service. Using this mode requires the\nfollowing:",
        "The account administrator must enable the ENFORCE_NETWORK_RULES_FOR_INTERNAL_STAGES parameter.",
        "The TYPE property of the network rule must be AWSVPCEID.",
        "Allows Snowflake to send requests to an external destination.",
        "Default: INGRESS",
        "Specifies a comment for the network rule.",
        "Default: No value",
        "A role used to execute this SQL command must have the following\nprivileges at a minimum:",
        "Privilege",
        "Object",
        "Notes",
        "CREATE NETWORK RULE",
        "Schema",
        "Only the ACCOUNTADMIN and SECURITYADMIN roles, along with the schema owner, have this privilege by default. It can be granted to\nadditional roles\nas needed.",
        "The USAGE privilege on the parent database and schema are required to perform operations on any object in a schema.",
        "For instructions on creating a custom role with a specified set of privileges, see Creating custom roles.",
        "For general information about roles and privilege grants for performing SQL actions on\nsecurable objects, see Overview of Access Control.",
        "When specifying IP addresses for a network rule, Snowflake supports ranges of IP addresses using Classless Inter-Domain Routing (CIDR) notation.",
        "For example, 192.168.1.0/24 represents all IPv4 addresses in the range of 192.168.1.0 to 192.168.1.255.",
        "Regarding metadata:",
        "Attention",
        "Customers should ensure that no personal data (other than for a User object), sensitive data, export-controlled data, or other regulated data is entered as metadata when using the Snowflake service. For more information, see Metadata fields in Snowflake.",
        "Create a network rule that is used to allow or block traffic from an AWS S3 endpoint to the internal stage:",
        "Create a network rule that is used to allow or block traffic from a range of IP addresses to the Snowflake service and internal stage:",
        "Create a network rule that is used to allow a domain and domain/port combination when Snowflake is sending requests to external destinations:",
        "Create a network rule to enable outbound private connectivity for\nexternal network access:",
        "Was this page helpful?",
        "On this page"
    ]
}