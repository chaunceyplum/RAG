{
    "url": "https://docs.snowflake.com/en/sql-reference/account-usage/table_pruning_history",
    "title": "TABLE_PRUNING_HISTORY view | Snowflake Documentation",
    "paragraphs": [
        "ACCOUNT_USAGE",
        "This Account Usage view can be used to determine the efficiency of pruning for all tables,\nand to understand how a table\u2019s default (natural) ordering of data affects pruning.",
        "You can compare the number of partitions pruned (PARTITIONS_PRUNED) to the\ntotal number of partitions scanned and pruned (PARTITIONS_SCANNED + PARTITIONS_PRUNED).",
        "You can also use this view to compare the effects on pruning before and after enabling\nAutomatic Clustering and\nsearch optimization for a table.",
        "Column Name",
        "Data Type",
        "Description",
        "START_TIME",
        "TIMESTAMP_LTZ",
        "Start of the time range (on the hour mark) during which the queries were executed.",
        "END_TIME",
        "TIMESTAMP_LTZ",
        "End of the time range (on the hour mark) during which the queries were executed.",
        "TABLE_ID",
        "NUMBER",
        "Internal/system-generated identifier for the table that was queried.",
        "TABLE_NAME",
        "TEXT",
        "Name of the table that was queried.",
        "SCHEMA_ID",
        "NUMBER",
        "Internal/system-generated identifier for the schema that contains the table that was queried.",
        "SCHEMA_NAME",
        "TEXT",
        "Name of the schema that contains the table that was queried.",
        "DATABASE_ID",
        "NUMBER",
        "Internal/system-generated identifier for the database that contains the table that was queried.",
        "DATABASE_NAME",
        "TEXT",
        "Name of the database that contains the table that was queried.",
        "NUM_SCANS",
        "NUMBER",
        "Number of scan operations from all queries (including SELECT statements and DML statements) on the table during the START_TIME and END_TIME window. Note that a given query might result in multiple scan operations on the same table.",
        "PARTITIONS_SCANNED",
        "NUMBER",
        "Number of partitions scanned during the scan operations described in NUM_SCANS.",
        "PARTITIONS_PRUNED",
        "NUMBER",
        "Number of partitions pruned during the scan operations described in NUM_SCANS.",
        "ROWS_SCANNED",
        "NUMBER",
        "Number of rows scanned during the scan operations described in NUM_SCANS.",
        "ROWS_PRUNED",
        "NUMBER",
        "Number of rows pruned during the scan operations described in NUM_SCANS.",
        "Latency for the view may be up to 6 hours.",
        "This view does not include pruning information for hybrid tables.",
        "List the top five tables that had the worst pruning efficiency within the last seven days:",
        "The example above uses GREATEST to avoid dividing by zero when the sum of the number\nof partitions scanned and the number of partitions pruned is zero.",
        "Was this page helpful?",
        "On this page"
    ]
}