{
    "url": "https://docs.snowflake.com/en/developer-guide/snowpark-container-services/tutorials/advanced/tutorial-4-block-storage",
    "title": "Create a service with a block storage volume mounted | Snowflake Documentation",
    "paragraphs": [
        "Feature \u2014 Generally Available",
        "Available to accounts in AWS and Microsoft Azure commercial regions, with some exceptions. For more information, see Available regions.",
        "This tutorial provides step-by-step instructions for you to create a simple service that uses a block storage volume. You also take a snapshot of the storage volume and explore ways to use the snapshot.",
        "Follow Tutorial 1 to download code for the sample service, create a Docker image, and upload it to a repository in your Snowflake account.",
        "Verify you have the my_echo_service_image image in the repository.",
        "Create a service. When the service runs, the container will have a 10\u00a0Gi block volume storage mounted.",
        "Note",
        "This tutorial only shows how to create a service with a block storage volume. The service code\n(Examining the tutorial 1 code) does not use the volume.",
        "To verify the service is running, execute the DESCRIBE SERVICE command.",
        "Verify the status column shows the service status as RUNNING; if the status is PENDING, it indicates the service is still starting. To investigate why the service is not RUNNING, execute the SHOW SERVICE CONTAINERS IN SERVICE command and review the status of individual containers:",
        "Use the CREATE SNAPSHOT command to take a snapshot of the block storage volume attached to the service\ninstance 0. You specify instance 0 because you are running only one service instance.",
        "Use double-quotes around the name in the VOLUME parameter to match the case of the name in the service specification.",
        "Review the snapshot",
        "List snapshots using SHOW SNAPSHOTS.",
        "Retrieve information for a specific snapshot using DESCRIBE SNAPSHOT.",
        "Run the ALTER SNAPSHOT command to modify the snapshot.",
        "You can use the snapshot two ways:",
        "Use snapshot to create a new service: When creating a new service, you can use the snapshot as the initial content for a block storage volume as shown. The following CREATE SERVICE command creates another service (new_service) with a 50\u00a0Gi block storage volume. The inline specification includes the snapshot name to use for initializing the block storage volume.",
        "Restore a snapshot on a storage volume of an existing service: This example restarts the first service (my_service) you created by replacing the original block volume content with the content from the snapshot.",
        "Suspend the service so you can restore the snapshot on the block storage volume.",
        "Restore the snapshot on the block storage volume mounted on the container of the\nnew_service instance. You are running only one instance of the Echo Service, so you specify instance ID 0.",
        "Verify the service status.",
        "The status column should show the service status as RUNNING;",
        "Use the DROP SNAPSHOT command to drop the snapshot.",
        "Remove the resources you created.",
        "Drop the two services you created:",
        "Follow Tutorial 1 steps to clean up other resources created in tutorial 1.",
        "Now that you\u2019ve completed this tutorial, you can return to Advanced tutorials to explore other topics.",
        "Was this page helpful?"
    ]
}