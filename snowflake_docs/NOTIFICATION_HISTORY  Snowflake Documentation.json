{
    "url": "https://docs.snowflake.com/en/sql-reference/functions/notification_history",
    "title": "NOTIFICATION_HISTORY | Snowflake Documentation",
    "paragraphs": [
        "Information Schema , Table functions",
        "This table function can be used to query the history of notifications sent through Snowflake. These notifications include:",
        "Notifications about errors in tasks.",
        "Notifications about errors in Snowpipe.",
        "Notifications sent by calling SYSTEM$SEND_EMAIL or SYSTEM$SEND_SNOWFLAKE_NOTIFICATION.",
        "The rows returned represent:",
        "Requests that are being processed.",
        "Failed attempts at sending notifications.",
        "Notifications that were sent successfully.",
        "The STATUS column indicates what each row represents. See\nExamples of output from the function.",
        "All the arguments are optional.",
        "Time range (in TIMESTAMP_LTZ format) when the notification is sent out.",
        "If START_TIME is not specified, the range starts 24 hours prior to the END_TIME.",
        "If END_TIME is not specified, the default is CURRENT_TIMESTAMP.",
        "The maximum time range is 14 days.",
        "The fully qualified name of the integration that is tied with the notification. If you omit this argument, the function returns\nall notifications.",
        "Default: An empty string.",
        "A number specifying the maximum number of rows returned by the function.",
        "Range: 1 to 10000",
        "Default: 100",
        "The function returns the following columns:",
        "Column Name",
        "Data Type",
        "Description",
        "CREATED",
        "TIMESTAMP_LTZ",
        "Timestamp when the notification was created.",
        "PROCESSED",
        "TIMESTAMP_LTZ",
        "Timestamp of the last attempt to send the notification.",
        "MESSAGE_SOURCE",
        "VARCHAR",
        "Type of object or feature that generated the notification. Valid values include:",
        "BUDGET (for notifications from budgets)",
        "TASK (for notifications from tasks)",
        "SNOWPIPE (for notifications from Snowpipe)",
        "STORED_PROCEDURE (for email notifications sent by\ncalling the SYSTEM$SEND_EMAIL or SYSTEM$SEND_SNOWFLAKE_NOTIFICATION stored procedure)",
        "INTEGRATION_NAME",
        "VARCHAR",
        "Name of the integration used for this notification.",
        "STATUS",
        "VARCHAR",
        "Status of the notification. Valid values are:",
        "QUEUED: The request to send the notification is being processed.",
        "SUCCESS: The notification was sent successfully.",
        "RETRIABLE_FAILURE: The attempt to send the notification failed, and the system will attempt to send the\nnotification again.",
        "FAILURE: Multiple attempts to send the notification failed, and there will be no more attempts to send the\nnotification.",
        "ERROR_MESSAGE",
        "VARCHAR",
        "If the notification failed, provides details about why the notification failed.",
        "Note",
        "For webhook notifications, this column contains the body of the HTTP response, which might contain sensitive data.\nBefore using this data, make sure to sanitize it.",
        "ID",
        "VARCHAR",
        "Unique ID of a request to send a notification.",
        "If Snowflake fails to send a notification and attempts to send the notification again, the function returns a row for\neach attempt. Each row for an attempt has the same value in the ID column but a different value in the ATTEMPT column.",
        "ATTEMPT",
        "INTEGER",
        "Number of the attempt made to send the notification.",
        "MESSAGE_SOURCE_INFO",
        "OBJECT",
        "Object containing information about the source of the notification. The fields in this object depend on the type of the\nsource.",
        "For notifications for budgets, the object contains the following fields:",
        "budget_id: Identifier for the budget.",
        "budget_name: The name of the budget.",
        "For error notifications for tasks, the object contains the following fields:",
        "name: The name of the task",
        "graph_run_group_id: Identifier for the graph run.",
        "attempt_number: Integer representing the number of the attempt to run this task.",
        "For error notifications for Snowpipe, the object contains the pipe_name field, which specifies the name of the pipe.",
        "For notifications sent by calling the SYSTEM$SEND_SNOWFLAKE_NOTIFICATION or SYSTEM$SEND_EMAIL stored procedure, the\nobject contains the query_id field, which specifies the ID of the statement that called the stored procedure.",
        "Returns results only for the ACCOUNTADMIN role, the integration owner (i.e. the role with the OWNERSHIP privilege on the\nintegration) or a role with the USAGE privilege on the integration.",
        "When calling an Information Schema table function, the session must have an INFORMATION_SCHEMA schema in use or the\nfunction name must be fully-qualified. For more details, see Snowflake Information Schema.",
        "The following sections contain examples of calling the function and examples of output from the function:",
        "Examples of calling the function",
        "Examples of output from the function",
        "The following examples demonstrate how to call this function:",
        "Retrieving the most recent notifications",
        "Retrieving notifications by time and integration name",
        "Retrieve the most recent notifications that were created in the past 24 hours.",
        "Retrieve the most recent notifications that were created in the past hour and sent using the integration named my_integration.",
        "The following examples explain the output returned by this function for notification requests in different states:",
        "Example of the output when two attempts fail and a third attempt is in progress",
        "Example of the output when two attempts fail and a third attempt succeeds",
        "This example selects a subset of the columns in the output:",
        "The output includes the rows that represent the attempts to send one notification. In the output:",
        "The ID column identifies the notification that is being sent.",
        "The first two attempts to send the notification have failed, but the system can attempt to send the notification again (as\nindicated by the value RETRIABLE_FAILURE in the STATUS column).",
        "A third attempt is being processed, as indicated by the value QUEUED in the STATUS column.",
        "This example selects a subset of the columns in the output:",
        "The output includes the rows that represent the attempts to send one notification. In the output:",
        "The ID column identifies the notification that is being sent.",
        "The first two attempts to send the notification have failed, but the system can attempt to send the notification again (as\nindicated by the value RETRIABLE_FAILURE in the STATUS column).",
        "A third attempt succeeded, as indicated by the value SUCCESS in the STATUS column.",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}