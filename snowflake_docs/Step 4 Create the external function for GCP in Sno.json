{
    "url": "https://docs.snowflake.com/en/sql-reference/external-functions-creating-gcp-common-ext-function",
    "title": "Step 4: Create the external function for GCP in Snowflake | Snowflake Documentation",
    "paragraphs": [
        "This topic provides instructions for creating an external function object in Snowflake. This object stores information about the remote\nservice, such as the parameters that the remote service accepts.",
        "Note",
        "External functions in Snowflake are database objects, meaning they must be created in a schema in a database. To create an external\nfunction, you must have the appropriate privileges on the database and schema where you are creating the function.",
        "For more details, see Access control privileges.",
        "Step 3: Create the API integration for GCP in Snowflake",
        "This task assumes you are in the Worksheets  page in the Classic Console:",
        "Enter a CREATE EXTERNAL FUNCTION statement. The statement should look similar to the following:",
        "Replace <external_function_name> with a unique function name (e.g. echo). This name must follow the rules for\nObject identifiers.",
        "In addition, record the function name in the \u201cExternal Function Name\u201d field in your tracking worksheet.",
        "Replace <parameters> with the names and SQL data types of the parameters for the function, if any. For example:",
        "The parameters must correspond to the parameters expected by the remote service. The parameter names do not need to match, but the\ndata types need to be compatible.",
        "In addition, record the parameter names and data types in the \u201cExternal Function Name\u201d field in your tracking worksheet.",
        "Replace <api_integration_name> with the value from the \u201cAPI Integration Name\u201d field in your tracking worksheet.",
        "Replace <function_URL> with the values from the Gateway Base URL and Path Suffix fields, separated by a forward slash (/).",
        "The URL should look similar to:",
        "If you haven\u2019t already, execute the CREATE EXTERNAL FUNCTION command that you entered.",
        "You should now be able to call your external function to verify that it works correctly.",
        "Note",
        "If you added a security definition to the configuration file to secure your gateway in Step 2: Create the proxy service (Google Cloud API Gateway) in the console\nof this tutorial, you will not be able to test your external function until you update the security definitions in the configuration file\nin Step 5: Create a GCP security policy for the proxy service in the console of this tutorial.",
        "For details, see Calling an external function for GCP.",
        "Step 5: Create a GCP security policy for the proxy service in the console",
        "Was this page helpful?",
        "On this page"
    ]
}