{
    "url": "https://docs.snowflake.com/en/user-guide/data-share-consumers",
    "title": "Consume imported data | Snowflake Documentation",
    "paragraphs": [
        "This topic describes the tasks associated with creating databases from shares made available by data providers and then using the databases\nfor queries and other operations.",
        "You must use the ACCOUNTADMIN role (or a role granted the IMPORT SHARE global privilege) to perform these tasks. For more details about the\nIMPORT SHARE privilege, see Enable non-ACCOUNTADMIN roles to perform data sharing tasks.",
        "Note",
        "The tasks described in this topic do not apply to reader accounts. If you are using a reader account to consume imported data, you do not\nneed to perform any of these tasks because they have already been completed by an administrator from the provider account.",
        "Imported databases have the following limitations for consumers:",
        "Imported databases are read-only. Users in a consumer account can view/query data, but cannot insert or update data, or create any objects\nin the database.",
        "The following actions are not supported:",
        "Creating a clone of an imported database or any schemas/tables in the database.",
        "Time Travel for an imported database or any schemas/tables in the database.",
        "Editing the comments for an imported database.",
        "Imported databases and all the objects in the database cannot be re-shared with (imported by) other accounts.",
        "Imported databases cannot be replicated.",
        "You can view the shares that are available to consume in your account using either the web interface or SQL:",
        "Select Data Products \u00bb Private Sharing, then select Shared With You.\nYou can view the following:",
        "Privately Shared Listings that have been shared with you. You can also view Data exchange listings that you have access to.",
        "Direct shares that have been shared with you. Depending on the share status, shares are grouped into two sections:",
        "Direct shares that are ready to get (i.e. a database has not been created from the share).",
        "Direct shares that have been imported into a database and are ready to query.",
        "To view Snowflake Marketplace listings that have been imported to a database and are ready to query, in the navigation menu,\nselect Data Products \u00bb Marketplace.\nFor more information, see Exploring Listings.",
        "Select Shares , then select the Inbound toggle.",
        "The page displays all the shares available to your account. The Database column displays the name of the database created from the\nshare. If the column is empty, a database has not yet been created (in your account) from the share.",
        "Execute a SHOW SHARES or DESCRIBE SHARE statement.",
        "For example, using SQL:",
        "The output shows:",
        "Two shares, sales_s and sales_s2 are available. INBOUND in the kind column specifies that a data provider made the\nshare available to your account to consume.",
        "The name column displays the name of each share, in the form of share_name\n(e.g. SALE_S).",
        "The owner_account column displays the account name that provided each share, in the form of orgname.account_name.",
        "If the database_name column is empty, a database has not yet been created from the share in your account.",
        "The following example uses the DESCRIBE SHARE command to show the objects (database, schemas, and tables) that are in the\nsales_s share:",
        "The share consists of one schema, aggregates_eula, with one table, aggregate_1. Each object name, including the database\nitself, is prefixed with <DB>. This indicates a database has not been created yet (in your account) from the share.",
        "You can create a database from a share using the web interface or SQL:",
        "Sign in to Snowsight.",
        "Select Data Products \u00bb Private Sharing.",
        "Select the Shared with You tab.",
        "In the Ready to Get section, select the share that you want to create a database for.",
        "Set a database name and the roles that are permitted to access the database.",
        "Select Get Data.",
        "Select Shares , then select the Inbound toggle.",
        "Select a share from which a database has not yet been created (i.e. the Database column is empty).",
        "Select Create Database from Share.",
        "Follow the prompts provided in the dialog.",
        "Execute a CREATE DATABASE statement with the following data sharing-specific syntax:",
        "Where provider_account is the name of the account that provided the share and share_name is the name of the share\nfrom which to create the database.",
        "Note",
        "A share can only be consumed once per account.",
        "To see the objects that are being imported before creating a database, use the DESCRIBE SHARE command.",
        "When a database is created from a share, only the role used to create the database can access objects in the database by default.\nFor instructions on granting access to other roles, see Granting Privileges on an Imported Database (in this topic).",
        "The following example creates a new database named snow_sales in your account from the sales_s share:",
        "List the new snow_sales database:",
        "In this example, the origin column indicates the fully-qualified name of the share from which the database was created.",
        "Similarly, the output of SHOW SHARES and DESC SHARE includes the name of the database that was created from the share:",
        "The instructions to grant access to objects in a share differ depending on whether the provider segmented the objects in a share using\ndatabase roles. This option associates different objects in the share with different database roles.",
        "Note that a single share can include both objects that are accessible via database roles and objects that are not associated with a\ndatabase role.",
        "Allow users to access objects in a share by granting the IMPORTED PRIVILEGES privilege on an imported database to one or more roles in your\naccount.",
        "A role can grant IMPORTED PRIVILEGES on an imported database only when it either:",
        "Owns the imported database (i.e. has the OWNERSHIP privilege on the database).",
        "Was granted the MANAGE GRANTS global privilege.",
        "You can assign this role to other roles using either the web interface or SQL:",
        "Click on Databases  \u00bb <shared_db_name>.",
        "In the side panel, click on Grant Privileges and assign the privilege to one or more roles.",
        "Execute a GRANT <privileges> statement.",
        "To see the roles that have USAGE privileges on an imported database, use the web interface or the SHOW GRANTS command.",
        "Role r1 creates database snow_sales from share xy12345.sales_s:",
        "Role r1 grants IMPORTED PRIVILEGES on database snow_sales to role r2:",
        "Since r2 does not have the OWNERSHIP privilege on the database, to be able to perform either of the following grant or revoke\noperations, role r2 must hold the MANAGE GRANTS privilege on the account:",
        "Allow users to access objects in a share by granting the appropriate database role in the imported database to one or more roles in your\naccount.",
        "Create a database from the share using CREATE DATABASE \u2026 FROM SHARE.",
        "Executing this command requires a role with the global CREATE DATABASE and IMPORT SHARE privileges.",
        "For example, create databases c1 from provider provider1 and share share1:",
        "Grant database roles to roles in your account to allow users with those roles to access database objects in the share.",
        "Use the role that you used to create the database from the share.",
        "For example, see the database roles available, then grant database role c1.r1 to the analyst role in your account:",
        "Creating streams on shared objects (secure views or tables) enables you to track data manipulation language (DML) changes made in those\nobjects. This functionality is similar to creating and using streams on \u201clocal\u201d objects (i.e. in the same account as the stream).",
        "The role used to execute the SQL statements in this section must have the required grants on the shared table or secure view. For information,\nsee Granting privileges on an imported database (in this topic).",
        "To create streams on shared views:",
        "For example, create a stream on the shared aggregate_1_v view in the snow_sales.aggregates_eula database and schema:",
        "To create streams on shared tables:",
        "For example, create a table stream on the shared aggregate_1 table in the snow_sales.aggregates_eula database and schema:",
        "For more information on creating streams, see CREATE STREAM.",
        "Note",
        "The data provider must enable change tracking on views or tables before you can create streams on these objects. If you cannot\ncreate streams on a desired shared object, contact the data provider to consider enabling change tracking on the object.",
        "To avoid allowing a stream to become stale, consume the stream records within a transaction during the retention period for the table.\nContact the data provider to determine the data retention period for the table.",
        "To determine whether a stream has become stale, execute the DESCRIBE STREAM or SHOW STREAMS\ncommand. In the command output, when the STALE column value is TRUE, the stream may be stale. In practice, reading from the stream may\nsucceed for some time after the expected STALE_AFTER. However, the stream may become stale at any time during this period.",
        "Querying an imported database is the same as querying any other database in your account.",
        "For example:",
        "Was this page helpful?",
        "On this page"
    ]
}