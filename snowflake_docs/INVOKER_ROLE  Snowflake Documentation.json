{
    "url": "https://docs.snowflake.com/en/sql-reference/functions/invoker_role",
    "title": "INVOKER_ROLE | Snowflake Documentation",
    "paragraphs": [
        "Context functions (Session Object)",
        "Returns the name of the account-level role of the object executing the query or NULL if the name of the role is a database role.",
        "Advanced Column-level Security topics",
        "None.",
        "If using the INVOKER_ROLE function with masking policy, verify that your Snowflake account is Enterprise Edition or higher.",
        "The following table summarizes the relationship between the query context and the role the function evaluates.",
        "Context",
        "Evaluated role",
        "User",
        "CURRENT_ROLE",
        "Table",
        "CURRENT_ROLE.",
        "View",
        "View owner role.",
        "UDF",
        "UDF owner role.",
        "Stored procedure with caller\u2019s right",
        "CURRENT_ROLE.",
        "Stored procedure with owner\u2019s right",
        "Stored procedure owner role.",
        "Task",
        "Task owner role.",
        "Stream",
        "The role that queries a given stream.",
        "The following diagram shows the relationship of a query performer, roles in Snowflake, and masking policies on tables or views.",
        "Where:",
        "Are roles in Snowflake.",
        "Are masking policies in Snowflake.",
        "Are views in Snowflake.",
        "Is a table in Snowflake.",
        "Based on this diagram, the values of CURRENT_ROLE and INVOKER_ROLE in a query are as follows:",
        "Policy",
        "CURRENT_ROLE",
        "INVOKER_ROLE",
        "P1",
        "R3",
        "R1",
        "P2",
        "R3",
        "R2",
        "P3",
        "R3",
        "R3",
        "The following examples show how to use the INVOKER_ROLE in a masking policy SQL expression.",
        "Return NULL for unauthorized users:",
        "Return a static masked value for unauthorized users:",
        "Return a hash value using SHA2 , SHA2_HEX for unauthorized users:",
        "Was this page helpful?",
        "On this page"
    ]
}