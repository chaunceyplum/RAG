{
    "url": "https://docs.snowflake.com/en/sql-reference/sql/alter-dynamic-table",
    "title": "ALTER DYNAMIC TABLE | Snowflake Documentation",
    "paragraphs": [
        "Modifies the properties of a dynamic table.",
        "CREATE DYNAMIC TABLE, DESCRIBE DYNAMIC TABLE, DROP DYNAMIC TABLE, SHOW DYNAMIC TABLES",
        "Where:",
        "For more information, see Clustering Keys & Clustered Tables.",
        "For details, see Search optimization actions (searchOptimizationAction).",
        "Identifier for the dynamic table to alter.",
        "If the identifier contains spaces or special characters, the entire string must be enclosed in double quotes.\nIdentifiers enclosed in double quotes are also case-sensitive.",
        "For more information, see Identifier requirements.",
        "Specifies the action to perform on the dynamic table:",
        "SUSPEND suspends refreshes on the dynamic table. If the dynamic table is used\nby other dynamic tables, they are also suspended.",
        "RESUME resumes refreshes on the dynamic table. Resume operations cascade\ndownstream to all downstream dynamic tables not manually suspended.",
        "Renames the specified dynamic table with a new identifier that is not currently used by\nany other dynamic tables in the schema.",
        "Renaming a dynamic table requires the CREATE DYNAMIC TABLE privilege on the schema for\nthe dynamic table.",
        "You can also move the dynamic table to a different database and/or schema while\noptionally renaming the dynamic table. To do so, specify a qualified new_name\nvalue that includes the new database and/or schema name in the form\ndb_name.schema_name.new_name or schema_name.new_name,\nrespectively.",
        "The following restrictions apply:",
        "The destination database and/or schema must already exist. In addition, an object\nwith the same name cannot already exist in the new location; otherwise, the\nstatement returns an error.",
        "You can\u2019t move an object to a managed access schema unless the object owner\n(that is, the role that has the OWNERSHIP privilege on the object) also owns the\ntarget schema.",
        "When an object (table, column, etc.) is renamed, other objects that reference it\nmust be updated with the new name.",
        "Swaps two dynamic tables in a single transaction. The role used to perform this\noperation must have OWNERSHIP privileges on both dynamic tables.",
        "The following restrictions apply:",
        "You can only swap a dynamic table with another dynamic table.",
        "Specifies that the dynamic table should be manually refreshed.",
        "Both user-suspended and auto-suspended dynamic tables can be manually refreshed.\nManually refreshed dynamic tables return MANUAL as the output for refresh_trigger\nin the DYNAMIC_TABLE_REFRESH_HISTORY function.",
        "Note that refreshing a dynamic table also refreshes all upstream dynamic tables as\nof the same data timestamp. For more information, see Alter the warehouse or target lag for a dynamic table.",
        "For information on dynamic table refresh status, see DYNAMIC_TABLE_REFRESH_HISTORY.",
        "Specifies one or more properties/parameters to set for the table (separated by blank\nspaces, commas, or new lines):",
        "Specifies the target lag for the dynamic table:",
        "Specifies the maximum amount of time that the dynamic table\u2019s content should lag\nbehind updates to the base tables.",
        "For example:",
        "If the data in the dynamic table should lag by no more than 5 minutes, specify 5 minutes.",
        "If the data in the dynamic table should lag by no more than 5 hours, specify 5 hours.",
        "The minimum value is 1 minute. If a dynamic table A depends on another dynamic\ntable B, the minimum lag for A must be greater than or equal to the lag for B.",
        "Specifies that the dynamic table should be refreshed if any dynamic table\ndownstream of it is refreshed.",
        "Specifies the name of the warehouse that provides the compute resources for\nrefreshing the dynamic table.",
        "The owner role of the dynamic table must have the USAGE privilege on this warehouse.",
        "Object-level parameter that modifies the retention period for the dynamic table for\nTime Travel. For more details, see Understanding & using Time Travel and\nWorking with Temporary and Transient Tables.",
        "For a detailed description of this parameter and more information about object\nparameters, see Parameters.",
        "Values:",
        "Standard Edition: 0 or 1",
        "Enterprise Edition:",
        "0 to 90 for permanent dynamic tables",
        "0 or 1 for transient dynamic tables",
        "Note",
        "A value of 0 effectively disables Time Travel for the dynamic table.",
        "Object parameter that specifies the maximum number of days Snowflake can extend the\ndata retention period to prevent streams on the dynamic table from becoming stale.",
        "For a detailed description of this parameter, see\nMAX_DATA_EXTENSION_TIME_IN_DAYS.",
        "Specifies a default collation specification\nfor any new columns added to the dynamic table.",
        "Setting this parameter does not change the collation specification for any\nexisting columns.",
        "For more information, see DEFAULT_DDL_COLLATION.",
        "Specifies one or more properties/parameters to unset for the dynamic table, which\nresets them back to their defaults:",
        "DATA_RETENTION_TIME_IN_DAYS",
        "MAX_DATA_EXTENSION_TIME_IN_DAYS",
        "DEFAULT_DDL_COLLATION",
        "Specifies (or modifies) one or more table columns or column expressions as the\nclustering key for the dynamic table. These are the columns/expressions for which\nclustering is maintained by Automatic Clustering. Before you specify a clustering key\nfor a dynamic table, you should understand micro-partitions. For more information, see\nUnderstanding Snowflake Table Structures.",
        "Note the following when using clustering keys with dynamic tables:",
        "Column definitions are required and must be explicitly specified in the statement.",
        "Clustering keys are not intended or recommended for all tables; they\ntypically benefit very large (for example, multi-terabyte) tables.",
        "Enables or disables Automatic Clustering for the dynamic table.",
        "Drops the clustering key for the dynamic table.",
        "For more information about clustering keys and reclustering, see Understanding Snowflake Table Structures.",
        "Alters a comment or overwrites the existing comment for a column in the dynamic table.",
        "Adds a comment or overwrites the existing comment for the dynamic table.",
        "Specifies the tag name and the tag string value.",
        "The tag value is always a string, and the maximum number of characters for the tag value is 256.",
        "For information about specifying tags in a statement, see Tag quotas for objects and columns.",
        "Identifier for the policy; must be unique for your schema.",
        "Adds a row access policy to the dynamic table.",
        "At least one column name must be specified. Additional columns can be specified\nwith a comma separating each column name.",
        "Drops a row access policy from the dynamic table.",
        "Drops the row access policy that is set on the dynamic table and adds a row access\npolicy to the same dynamic table in a single SQL statement.",
        "Drops all row access policy associations from the dynamic table.",
        "Specifies the arguments to pass into the conditional masking policy.",
        "The first column in the list specifies the data to be masked or tokenized based on\npolicy conditions and must match the column to which the masking policy\nis applied.",
        "The additional columns specify which data to evaluate for masking or tokenization\nin each row of the query result when selecting from the first column.",
        "If the USING clause is omitted, Snowflake treats the conditional masking policy as a\nnormal masking policy.",
        "Replaces a masking or projection policy that is currently set on a column with a\ndifferent policy in a single statement.",
        "Note that using the FORCE keyword with a masking policy requires the\ndata type of the policy in the ALTER DYNAMIC\nTABLE statement (i.e. STRING) to match the data type of the masking policy currently\nset on the column (i.e. STRING).",
        "If a masking policy is not currently set on the column, specifying this keyword has\nno effect.",
        "For details, see: Replace a masking policy on a column or\nReplace a projection policy.",
        "Adds search optimization for the\nentire dynamic table or, if you specify the optional ON clause, for specific\ncolumns.",
        "Search optimization can be expensive to maintain, especially if the data in the table\nchanges frequently. For more information, see\nSearch optimization cost estimation and management.",
        "Specifies that you want to configure search optimization for specific columns or\nVARIANT fields (rather than the entire dynamic table).",
        "For search_method_with_target, use an expression with the following syntax:",
        "Where:",
        "search_method specifies one of the following methods that optimizes\nqueries for a particular type of predicate:",
        "GEO: Predicates that use GEOGRAPHY types.",
        "SUBSTRING: Predicates that match substrings and regular expressions (for\nexample, [ NOT ] LIKE, [ NOT ] ILIKE,\n[ NOT ] RLIKE, REGEXP_LIKE,\netc.)",
        "EQUALITY: Equality and IN predicates.",
        "target specifies the column, VARIANT field, or an asterisk (*).",
        "Depending on the value of search_method, you can specify a column or\nVARIANT field of one of the following types:",
        "GEO: Columns of the GEOGRAPHY data type.",
        "SUBSTRING: Columns of string or VARIANT data types, including paths to\nfields in VARIANTs. Specify paths to fields as described under EQUALITY;\nsearches on nested fields are improved in the same way.",
        "EQUALITY: Columns of numeric, string, binary, and VARIANT data types,\nincluding paths to fields in VARIANT columns.",
        "To specify a VARIANT field, use\ndot or bracket notation. For\nexample:",
        "my_column:my_field_name.my_nested_field_name",
        "my_column['my_field_name']['my_nested_field_name']",
        "You may also use a colon-delimited path to the field. For example:",
        "my_column:my_field_name:my_nested_field_name",
        "When you specify a VARIANT field, the configuration applies to all nested fields\nunder that field.",
        "For example, if you specify ON EQUALITY(src:a.b):",
        "This configuration can improve queries on src:a.b and on any nested fields\n(for example, src:a.b.c, src:a.b.c.d, etc.).",
        "This configuration only affects queries that use the src:a.b prefix (for\nexample, src:a, src:z, etc.).",
        "To specify all applicable columns in the table as targets, use an asterisk (*).",
        "Note that you can\u2019t specify both an asterisk and specific column names for a\ngiven search method. However, you can specify an asterisk in different search methods.",
        "For example, you can specify the following expressions:",
        "You can\u2019t specify the following expressions:",
        "To specify more than one search method on a target, use a comma to separate each\nsubsequent method and target:",
        "If you run the ALTER DYNAMIC TABLE \u2026 ADD SEARCH OPTIMIZATION ON \u2026 command multiple\ntimes on the same table, each subsequent command adds to the existing configuration\nfor the table. For instance, suppose that you run the following commands:",
        "This adds equality predicates for the columns c1, c2, c3, and c4 to\nthe configuration for the table. This is equivalent to running the command:",
        "For examples, see Enabling search optimization for specific columns.",
        "Removes search optimization for the\nentire dynamic table or, if you specify the optional ON clause, from specific\ncolumns.",
        "The following restrictions apply:",
        "If a dynamic table has the search optimization property, then dropping the dynamic\ntable and undropping it preserves the search optimization property.",
        "Removing the search optimization property from a dynamic table and then adding it\nback incurs the same cost as adding it the first time.",
        "Specifies that you want to drop the search optimization configuration for specific\ncolumns or VARIANT fields (rather than dropping search optimization for the entire\ndynamic table).",
        "To identify the column configuration to drop, specify one of the following:",
        "For search_method_with_target, specify a method for optimizing queries for\none or more specific targets, which can be columns or VARIANT fields. Use the\nsyntax described earlier.",
        "For column_name, specify the name of the column configured for search\noptimization. Specifying the column name drops all expressions for that column,\nincluding expressions that use VARIANT fields in the column.",
        "For expression_id, specify the ID for an expression listed in the output\nof the DESCRIBE SEARCH OPTIMIZATION\ncommand.",
        "You can specify any combination of search methods with targets, column names, and\nexpression IDs using a comma between items.",
        "For examples, see Dropping search optimization for specific columns.",
        "To alter a dynamic table, you must be using a role that has OPERATE privilege on that\ndynamic table. For general information, see Privileges to view a dynamic table\u2019s metadata.",
        "You cannot make changes to the masking policy after you\u2019ve created the dynamic table.",
        "If you want to update an existing dynamic table and need to see its current definition,\ncall the GET_DDL function.",
        "You can use data metric functions with dynamic tables by executing an ALTER TABLE\ncommand. For more information, see Working with data metric functions.",
        "You cannot use IDENTIFIER() to specify the\nname of the dynamic table to alter. For example, the following statement isn\u2019t supported:",
        "Regarding metadata:",
        "Attention",
        "Customers should ensure that no personal data (other than for a User object), sensitive data, export-controlled data, or other regulated data is entered as metadata when using the Snowflake service. For more information, see Metadata fields in Snowflake.",
        "Change the target lag time of a dynamic table named product to 1 hour:",
        "Specify downstream target lag for a dynamic table for a dynamic table named product:",
        "Suspend the product dynamic table:",
        "Resume the product dynamic table:",
        "Rename the product dynamic table:",
        "Swap the product dynamic table with new-product:",
        "Change the clustering key for a table:",
        "Remove clustering from a table:",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}