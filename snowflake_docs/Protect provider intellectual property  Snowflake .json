{
    "url": "https://docs.snowflake.com/en/developer-guide/native-apps/redacted-content",
    "title": "Protect provider intellectual property | Snowflake Documentation",
    "paragraphs": [
        "Feature \u2014 Generally Available",
        "The Snowflake Native App Framework is generally available on supported cloud platforms. For additional information, see\nSupport for private connectivity, VPS, and government regions.",
        "This topic describes how the Snowflake Native App Framework protects provider data by redacting or removing information\nabout objects shared by a Snowflake Native App.",
        "When a consumer installs a Snowflake Native App, they are not allowed to view the objects within the\napplication object unless a provider grants permissions on the objects using application roles.",
        "In general, when a consumer queries object metadata using a schema, view, or uses Snowsight\nto view the Query Profile or Query History for those queries, the Snowflake Native App Framework redacts information\nabout the objects within the application object.",
        "The Snowflake Native App Framework redacts information from the query profile in the\nfollowing contexts:",
        "Queries that are run when the app is installed or upgraded.",
        "Queries that originate from a stored procedure owned by the app.",
        "Queries containing a non-secure view or function owned by the app.",
        "For each of these types of queries, Snowsight collapses the query profile data into a single\nempty node instead of displaying the full query profile tree.",
        "For queries related to a Snowflake Native App, the query_text and error_message fields are redacted\nfrom the query history in the following contexts:",
        "Queries run when the app is installed or upgraded.",
        "Queries that originate from a child job of a stored procedure owned by the app.",
        "In each of these situations, the cell of the query history in Snowsight appears blank.",
        "When a consumer uses the a SHOW or DESCRIBE command to view information about the application object\nor the objects owned by the app, information about implementation details is redacted. For example,\nfunction definitions and the function body are redacted from the output of these commands.",
        "Information about implementation details is redacted from the ACCESS_HISTORY view\nin the following contexts:",
        "Queries generated when the app is installed or upgraded.",
        "Queries generated by stored procedures and user-defined functions owned by the app.",
        "Additionally, for views owned by the app, information about the base table is redacted.",
        "Providers should use caution when granting the MONITOR or OPERATE privilege on dynamic tables to an\napplication role. These privileges allow the consumer to view a dynamic table\u2019s metadata, which might\nexpose the implementation details of the app. See Privileges to view a dynamic table\u2019s metadata for\nmore information on what actions the consumer can perform.",
        "To protect information related to objects within an application object, the Snowflake Native App Framework blocks the following\ncontext functions:",
        "Context Function",
        "Blocked in shared content (returns null)",
        "Blocked in setup scripts and stored procedure and UDFs owned by the Snowflake Native App (throws an exception)",
        "CURRENT_ROLE",
        "\u2714",
        "CURRENT_ROLE_TYPE",
        "\u2714",
        "CURRENT_USER",
        "\u2714",
        "CURRENT_SESSION",
        "\u2714",
        "IS_ROLE_IN_SESSION",
        "\u2714",
        "CURRENT_IP_ADDRESS",
        "\u2714",
        "\u2714",
        "CURRENT_AVAILABLE_ROLES",
        "\u2714",
        "\u2714",
        "CURRENT_SECONDARY_ROLES",
        "\u2714",
        "\u2714",
        "ALL_USER_NAMES",
        "\u2714",
        "GET_USERS_FOR_COLLABORATION",
        "\u2714",
        "CURRENT_WAREHOUSE",
        "\u2714",
        "SYSTEM$ALLOWLIST",
        "\u2714",
        "To protect the privacy and integrity of a provider\u2019s data content, the Snowflake Native App Framework\nimplements the following restriction:",
        "Shared objects are read-only for an application object and installed Snowflake Native App.",
        "Shared objects are not directly exposed to consumers. Objects are only exposed through a\nview that is installed when the setup script runs during the Snowflake Native App installation or upgrade.",
        "Only the provider can update the shared content.",
        "Only the following objects can be shared with an application object or installed Snowflake Native App. These\nobject must have certain privileges:",
        "Schemas: Only the USAGE privilege can be granted to the shared content of an application package.",
        "Tables: Only the SELECT privilege can be granted to the shared content of an application package.\nTables with defined policies (row access, masking, tag based, etc.) cannot be shared. Policies can be\ndefined on the objects when they are exposed to consumers.",
        "Views: Only the SELECT privilege can be granted to the shared content of an application package. Views\nwith defined policies, including row access, masking, tag based, etc., cannot be shared.",
        "Note",
        "A view, or any views from which a view is composed, cannot contain JavaScript, Java, Python, or Scala\nfunctions.",
        "Refer to Allow consumers to access shared objects in an app for more information.",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}