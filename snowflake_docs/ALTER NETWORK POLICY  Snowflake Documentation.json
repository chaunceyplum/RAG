{
    "url": "https://docs.snowflake.com/en/sql-reference/sql/alter-network-policy",
    "title": "ALTER NETWORK POLICY | Snowflake Documentation",
    "paragraphs": [
        "Modifies the properties for an existing network policy. Currently, the only supported actions are changing the IP addresses that are allowed or\ndenied access to the account and adding/overwriting/removing a comment for a network policy.",
        "Note",
        "Only the network policy owner (i.e. role with the OWNERSHIP privilege on the network policy) or higher can alter a network policy.",
        "CREATE NETWORK POLICY , DESCRIBE NETWORK POLICY , DROP NETWORK POLICY , SHOW NETWORK POLICIES",
        "Specifies the identifier for the network policy to alter. If the identifier contains spaces or special characters, the entire string must be\nenclosed in double quotes. Identifiers enclosed in double quotes are also case-sensitive.",
        "Specifies the parameter to set for the network policy:",
        "Specifies a list of network rules that contain the network identifiers that are allowed access to\nSnowflake. There is no limit on the number of network rules in the list.",
        "Replaces existing network rules in the allowed list. To add network rules without replacing existing ones, use the\nALTER NETWORK POLICY ... ADD command.",
        "Specifies a list of network rules that contain the network identifiers that are denied access to Snowflake. There is no limit on the\nnumber of network rules in the list.",
        "Replaces existing network rules in the blocked list. To add network rules without replacing existing ones, use the\nALTER NETWORK POLICY ... ADD command.",
        "Specifies a list of IPv4 addresses that are allowed access to your Snowflake account. This is referred to as the allowed list.",
        "Snowflake recommends using network rules in conjunction with network policies rather than using this property. Use the\nALLOWED_NETWORK_RULE_LIST property to specify network rules that contain IPv4 addresses.",
        "If you are not yet using network rules, specify at least one IPv4 address or CIDR block range to allow access to your Snowflake\naccount. Additionally, if you are not using network rules and this property is specified with an empty list, no IPv4 addresses are\nallowed to access your Snowflake account.",
        "Specifies a list of IPv4 addresses that are denied access to your Snowflake account. This is referred to as the blocked list.\nTo unset this parameter, specify a different CIDR block range, a series of IPv4 addresses, or a single IPv4 address.",
        "Snowflake recommends using network rules in conjunction with network policies rather than using this parameter. Use the\nBLOCKED_NETWORK_RULE_LIST property to specify network rules that contain IPv4 addresses.",
        "To block public access, use a network rule and add the network rule to the BLOCKED_NETWORK_RULE_LIST property. The result is\nthat only IP addresses that use private connectivity, such as AWS PrivateLink, can access your Snowflake account.",
        "Default: No value; no IP addresses in ALLOWED_IP_LIST property are blocked.",
        "Adds a comment or overwrites an existing comment for the network policy.",
        "Specifies the tag name and the tag string value.",
        "The tag value is always a string, and the maximum number of characters for the tag value is 256.",
        "For information about specifying tags in a statement, see Tag quotas for objects and columns.",
        "Specifies the properties to unset for the network policy, which resets them to the defaults:",
        "COMMENT, which removes the comment, if one exists, for the network policy.",
        "TAG tag_name [ , tag_name ... ]",
        "Preview Feature \u2014 Open",
        "The ADD and REMOVE commands are in preview, and are available to all accounts on AWS.",
        "Adds a network rule to the allowed or blocked list of the network policy without removing existing ones.",
        "Removes a network rule from the allowed or blocked list of the network policy.",
        "Specifies a new name for the existing network policy.",
        "Do not modify a network policy to have empty ALLOWED_IP_LIST and BLOCKED_IP_LIST properties. Use network rules in\nconjunction with the network policy to manage access to your Snowflake account.",
        "The SET action for the allowed/blocked lists is not additive (that is, it removes all IP addresses in the existing lists\nfor the network policy and replaces them with the specified lists).",
        "As a result, to make additions to the existing lists, you must specify the new IP addresses and replicate the existing lists.",
        "Each ip_address can cover a range of addresses using Classless Inter-Domain Routing (CIDR) notation:",
        "ip_address[/optional_prefix_length]",
        "For example:",
        "192.168.1.0/24",
        "When a network policy includes values for both ALLOWED_IP_LIST and BLOCKED_IP_LIST, Snowflake applies the blocked list\nfirst.",
        "Do not add 0.0.0.0/0 to BLOCKED_IP_LIST. Because Snowflake applies the blocked list first, this would block your own\naccess. Additionally, in order to block all IP addresses except a select list, you only need to add IP addresses to ALLOWED_IP_LIST.\nSnowflake automatically blocks all IP addresses not included in the allowed list.",
        "Regarding metadata:",
        "Attention",
        "Customers should ensure that no personal data (other than for a User object), sensitive data, export-controlled data, or other regulated data is entered as metadata when using the Snowflake service. For more information, see Metadata fields in Snowflake.",
        "For example, use ALTER NETWORK POLICY to change a network policy named allow_access_policy that allows network traffic defined by\nallow_access_rule to also block network traffic defined by block_access_rule, consistent with the network rules defined in\nIP ranges. First, show the current policy:",
        "Next, change allow_access_policy to also use block_access_rule, and then show the updated policy:",
        "Next, rename the updated policy to describe use of both rules:",
        "Then, add a comment which describes that limit_access_policy is defined by network rules:",
        "Output from SHOW NETWORK POLICIES includes the updated policy name, and comment included in the changed (altered) network policy.",
        "Was this page helpful?",
        "On this page"
    ]
}