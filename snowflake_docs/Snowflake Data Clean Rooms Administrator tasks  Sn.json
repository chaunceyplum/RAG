{
    "url": "https://docs.snowflake.com/en/user-guide/cleanrooms/admin-tasks",
    "title": "Snowflake Data Clean Rooms: Administrator tasks | Snowflake Documentation",
    "paragraphs": [
        "Feature \u2014 Generally Available",
        "Not available in government regions.",
        "This topic describes the tasks for the administrator of a Snowflake Data Clean Room. For information about implementing a clean environment for\nthe first time, see Get started with Snowflake Data Clean Rooms.",
        "A clean room user who has the Admin role must define someone as a collaborator before other users can share a clean room with that\ncollaborator.",
        "Note",
        "If a Snowflake customer has an account in a different region than your Snowflake account, your account administrator must enable\nCross-Cloud Auto-Fulfillment before you can add them as a collaborator. For more information, including the limitations of collaborating with\ncustomers in other regions, see Enable collaboration with consumers in different regions.",
        "To add someone as collaborator within a clean room environment, follow these steps:",
        "Navigate to the Snowflake Data Clean Rooms login page.",
        "Log in as a clean room administrator. You do not need to have the ACCOUNTADMIN role in Snowflake.",
        "In the left navigation, select Collaborators.",
        "Do one of the following:",
        "If the collaborator has a Snowflake account, select Snowflake Partners \u00bb + Snowflake Partner. Respond to the prompts to enter\nthe details of the collaborator\u2019s Snowflake account.",
        "If the collaborator is not a Snowflake customer, select the Managed Accounts tab to create a\nclean room managed account for them.",
        "The process of adding clean room users depends on whether they are using the web app or developer APIs to work with the Snowflake Data Clean Room.",
        "To allow users to access the web app, follow these steps:",
        "Navigate to the Snowflake Data Clean Rooms login page.",
        "Log in as a clean room administrator. You do not need to have the ACCOUNTADMIN role in Snowflake.",
        "Select User Management \u00bb User Management.",
        "Select + Users.",
        "Enter the email address of the new clean room user.",
        "Select the role of the new user.",
        "The new user is sent an email with a link to join the clean room.",
        "To allow users to use the developer APIs to programmatically\nwork with clean rooms, follow these steps:",
        "Sign in to the Snowflake account associated with the clean room environment, which is where you installed the Snowflake Native App.",
        "Open a worksheet, and use the ACCOUNTADMIN ROLE to assign the SAMOOHA_APP_ROLE role to the user.",
        "For example, to allow a user joe to use the developer APIs, execute the following code:",
        "Any warehouse for which the SAMOOHA_APP_ROLE role has usage and operate privileges can be used to run analyses. To add warehouses that can\nbe used by clean room users to execute analyses, create a warehouse and then grant privileges on it to the SAMOOHA_APP_ROLE.",
        "For example, to add a warehouse my_big_warehouse that can be used to run analyses, execute the following commands from a worksheet:",
        "As an administrator, you can track what users are doing in the web app by monitoring the query history in your Snowflake account. You can\nidentify query history entries that correspond to activity in the web app because the value of user_name is the name of the service\naccount user that was created when the Snowflake account was configured.",
        "You can use the user_email query tag to identify which clean room user performed an action.",
        "To access the query history for your clean room environment, do one of the following, depending on whether you want to use SQL or\nSnowsight:",
        "Sign in the Snowflake account associated with your clean room environment as a user with the ACCOUNTADMIN role.",
        "Select Monitoring \u00bb Query History.",
        "Use the User filter to select the service account user associated with the clean room environment.",
        "Execute queries against the QUERY_HISTORY view in the ACCOUNT_USAGE schema of the\nshared SNOWFLAKE database.",
        "For example, to trace the web app activity of the user joe@company.com, execute the following code:",
        "A provider-run analysis refers to the process of a provider creating and sharing a clean room, then running an analysis in the clean room\nafter the consumer links their data. These analyses run in the consumer\u2019s account, not the provider\u2019s. This section describes how the\nconsumer can track the queries executed by the provider\u2019s analyses in the clean room.",
        "Snowflake Data Clean Rooms assigns a query tag to each query executed for a provider-run analysis. This query tag takes the form\ncleanroom_UUID_provider_account_locator. A consumer can retrieve all queries associated with provider-run analyses by searching\nfor the query tag in the query history of their account.",
        "To retrieve the query, first obtain the UUID for a clean room, then search for the query tag. In the following code, replace\ncleanroom_name and provider_account_locator with the appropriate values.",
        "You can also use Snowsight to filter the query history by the appropriate query tag after using SQL to retrieve the clean room UUID.",
        "Connectors let you integrate your clean room environment with your ecosystem partners. As the clean room administrator for a provider, you\ncan customize the clean room environment to limit which connectors appear as options for the clean room user. For example, if you have a\nsingle preferred activation partner, you can configure the clean room environment so that the partner is the only option when a consumer\nactivates the results of an analysis in a clean room.",
        "Note",
        "Your customizations apply to new clean rooms only.",
        "To control which connectors are available in a clean room:",
        "Sign in to the web app.",
        "In the left navigation, select Admin \u00bb Profile & Features.",
        "Optional: To customize activation connectors, follow these steps:",
        "On the Activation tile, select Edit.",
        "Select which activation options you want to display, and then select Save.",
        "Optional: To customize identity and data provider connectors, follow these steps:",
        "On the Identity & Data Provider tile, select Edit.",
        "Select which identity options you want to display, and then select Save.",
        "You can configure a profile for your clean room environment so every clean room created is branded with your logo and company name. To define\nthe logo and name for your company, complete these steps:",
        "Sign in to the web app.",
        "In the left navigation, select Admin \u00bb Profile & Features.",
        "In the Company profile section, do the following:",
        "Upload a logo for your company in JPG or PNG format. This logo will appear on every clean room that is created.",
        "Edit the Company Name to define the name that you want to appear on the clean rooms that are created in your environment.",
        "Your clean room environment can be configured so users authenticate using your own identity provider via single sign-on (SSO). To enable SSO,\ncontact Snowflake Support.",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}