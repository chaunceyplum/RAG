{
    "url": "https://docs.snowflake.com/en/developer-guide/snowpark/reference/python/1.26.0/snowpark/udtf",
    "title": "User-Defined Table Functions | Snowflake Documentation",
    "paragraphs": [
        "User-defined table functions (UDTFs) in Snowpark. Please see Python UDTF for details.\nThere is also vectorized UDTF. Compared to the default row-by-row processing pattern of a normal UDTF, which sometimes is inefficient, vectorized Python UDTFs (user-defined table functions) enable seamless partition-by-partition processing\nby operating on partitions as pandas DataFrames and returning results as pandas DataFrames or lists of\npandas arrays or pandas Series.",
        "In addition, vectorized Python UDTFs allow for easy integration with libraries that operate on pandas DataFrames or pandas arrays.",
        "defines an end_partition method that takes in a DataFrame argument and returns a pandas.DataFrame or a tuple of pandas.Series or pandas.arrays where each array is a column.",
        "does NOT define a process method.",
        "optionally defines a handler class with an __init__ method which will be invoked before processing each partition.",
        "Note",
        "A vectorized UDTF must be called with partition_by() to build the partitions.",
        "Refer to UDTFRegistration for details and sample code on how to create regular and vectorized UDTFs using Snowpark Python API.",
        "Classes",
        "UDTFRegistration(session)",
        "Provides methods to register classes as UDTFs in the Snowflake database.",
        "UserDefinedTableFunction(handler,\u00a0...[,\u00a0...])",
        "Encapsulates a user defined table function that is returned by udtf(), UDTFRegistration.register() or UDTFRegistration.register_from_file().",
        "Methods",
        "register(handler,\u00a0output_schema[,\u00a0...])",
        "Registers a Python class as a Snowflake Python UDTF and returns the UDTF.",
        "register_from_file(file_path,\u00a0handler_name,\u00a0...)",
        "Registers a Python class as a Snowflake Python UDTF from a Python or zip file, and returns the UDTF.",
        "Attributes",
        "handler",
        "The Python class or a tuple containing the Python file path and the function name.",
        "name",
        "The UDTF name.",
        "Was this page helpful?"
    ]
}