{
    "url": "https://docs.snowflake.com/en/user-guide/tutorials/budgets",
    "title": "Tutorial: Get started with budgets | Snowflake Documentation",
    "paragraphs": [
        "This tutorial introduces you to account-level credit usage monitoring with Budgets by setting up the account budget\nand creating a custom budget that monitors a group of specified objects.",
        "With budgets, you can monitor credit usage for the compute costs of supported objects, including credit usage for\nbackground maintenance tasks and serverless features. Budgets enables you to set a monthly spending limit for each budget\nand sends a notification email when your current spending is projected to exceed the monthly spending limit.",
        "You can complete this tutorial using a worksheet in Snowsight or using a CLI client such as SnowSQL.\nSome portions of this tutorial can be completed using Snowsight.",
        "By the end of this tutorial, you will learn how to do the following:",
        "Create custom roles to monitor and manage budgets.",
        "Grant the required privileges to add objects to a custom budget.",
        "Activate and set up an account budget.",
        "Create a custom budget and add objects to it.",
        "To complete this tutorial, the following prerequisites are required:",
        "You must be able to use the ACCOUNTADMIN role to create the roles used in this tutorial.",
        "You must verify your email address. Only\nverified email addresses can be added to a budget notification list.",
        "Budgets use a notification integration to send notification emails when current credit usage is expected to exceed the monthly\nspending limit. The ALLOWED_RECIPIENTS list must include the verified email addresses\nof the users to receive budgets notifications.",
        "A notification integration is required if you are completing the tutorial using SQL. Follow the steps below to create one.",
        "When you use Snowsight to set up a budget, the notification integration is automatically\ncreated for you. If you are going to use Snowsight to set up your budgets, you can skip to the next step.",
        "Execute the following statement to create a notification integration. Use your verified email address in the ALLOWED_RECIPIENTS\nlist:",
        "After you create the notification integration, grant the USAGE privilege to the SNOWFLAKE application. This privilege\nis required in order for Budgets to use the notification integration to send emails.",
        "Execute the following statement to grant the USAGE privilege on the notification integration:",
        "In this step, the following objects are created for the tutorial to create, manage, and monitor budgets:",
        "A database and schema in which to create custom budgets.",
        "A custom role to manage the account budget.",
        "A custom role to monitor the account budget.",
        "A custom role to create custom budgets.",
        "Create a database and schema in which to create a custom budget using the following steps:",
        "Create the database and schema in which to create the custom budget:",
        "Create the database and schema in which to create the custom budget:",
        "Sign in to Snowsight.",
        "Switch to the ACCOUNTADMIN role.",
        "Select Data \u00bb Databases \u00bb + Database.",
        "In the Name field, enter budgets_db.",
        "Select Create.",
        "After the database is created, select the budgets_db.",
        "Select Schemas \u00bb + Schema.",
        "In the Name field, enter budgets_schema.",
        "Select Create.",
        "Create custom role account_budget_admin for the account budget administrator. The account budget administrator\ncan take the following actions on the account budget:",
        "Activate and deactivate the account budget.",
        "Set the spending limit.",
        "Edit notification settings.",
        "Monitor credit usage for the account.",
        "Create custom role account_budget_monitor to be granted to account budget monitors. An account budget monitor\ncan take the following actions on the account budget:",
        "Monitor credit usage for the account.",
        "View the email notification settings.",
        "View the monthly spending limit for the account.",
        "Create a custom role budget_owner with the required role and privileges to create custom\nbudgets in the schema budgets_db.budgets_schema:",
        "Create two custom roles to manage and monitor custom budgets. These roles will be granted additional privileges later in the\ntutorial after the custom budget is created. To create the custom roles, follow these steps:",
        "Create a custom budget_admin role that can manage and monitor a custom budget:",
        "Create a custom budget_monitor role that can monitor a custom budget:",
        "Grant custom budget roles to yourself to use in future steps of the tutorial:",
        "Grant the account_budget_admin role to yourself:",
        "Grant the account_budget_monitor role to yourself:",
        "Grant the budget_owner role to yourself:",
        "Grant the budget_monitor role to yourself:",
        "Grant custom budget roles to yourself:",
        "Sign in to Snowsight.",
        "Switch to the ACCOUNTADMIN role.",
        "In the navigation menu, select Admin \u00bb Users & Roles, and then select Roles.",
        "Select Table and locate and select the role account_budget_admin.",
        "In the section 0 users have been granted ACCOUNT_BUDGET_ADMIN, select Grant to User.",
        "For User to receive grant, select your username to grant the role to.",
        "Select Grant.",
        "After the role is granted, return to the previous page.",
        "Select the role account_budget_monitor.",
        "In the section 0 users have been granted ACCOUNT_BUDGET_MONITOR, select Grant to User.",
        "Select Grant.",
        "Repeat the previous four steps (h-k) to grant yourself the following additional roles:",
        "budget_owner",
        "budget_monitor",
        "In this section, you created custom roles to manage and monitor budgets, and create custom budgets.",
        "In this step, create objects to add to a custom budget and grant privileges to the custom roles you created in the previous\nstep. You will be creating the following objects:",
        "A warehouse to add to a custom budget.",
        "A database to add to a custom budget.",
        "Create a warehouse and grant the USAGE and APPLYBUDGET privileges on the warehouse to the custom roles you created.\nThe APPLYBUDGET privilege is required to add an object to a budget.",
        "Create warehouse na_finance_wh:",
        "Grant the USAGE privilege to custom budget roles:",
        "Grant the APPLYBUDGET privilege on the warehouse to role budget_owner:",
        "Create warehouse na_finance_wh:",
        "Sign in to Snowsight.",
        "Select Admin \u00bb Warehouses \u00bb + Warehouse",
        "In the Warehouse Name field, enter na_finance_wh.",
        "Select Create Warehouse.",
        "Grant the USAGE privilege on the warehouse to custom roles, account_budge_admin and budget_admin:",
        "Select Admin \u00bb Warehouses.",
        "Select warehouse you just created na_finance_wh.",
        "In the Privileges tile, select + Privilege.",
        "For the Role, select the account_budget_admin role.",
        "For the Privileges, select USAGE.",
        "Select Grant Privileges.",
        "Repeat the previous 4 steps for the role budget_admin.",
        "Grant the USAGE and APPLYBUDGET privileges on the warehouse to role budget_owner:",
        "Select Admin \u00bb Warehouses.",
        "Select warehouse you just created na_finance_wh.",
        "In the Privileges tile, select + Privilege.",
        "For the Role, select the budget_owner role.",
        "For the Privileges, select APPLYBUDGET and USAGE.",
        "Select Grant Privileges.",
        "Create a database and grant the APPLYBUDGET privilege on the warehouse to the custom budget owner role you created.\nThe APPLYBUDGET privilege is required to add an object to a budget.",
        "Create a database:",
        "Grant the APPLYBUDGET privilege on the database to role budget_owner:",
        "Create a database:",
        "Sign in to Snowsight.",
        "Select Data \u00bb Databases \u00bb + Database",
        "In the Name field, enter na_finance_db.",
        "Select Create.",
        "Grant the APPLYBUDGET privilege on the database to role budget_owner:",
        "Select Data \u00bb Databases.",
        "Select the database you just created na_finance_db.",
        "In the Privileges tile, select + Privilege.",
        "For the Role, select the budget_owner role.",
        "For the Privileges, select APPLYBUDGET.",
        "Select Grant Privileges.",
        "In this section, you created the objects to be added to a custom budget and granted the APPLYBUDGET privilege required to add those objects\nto a budget. You also created the database and schema in which to create the custom budget and granted the USAGE privilege required to\ncreate a budget in the schema. Now you are ready to activate, create, and set up budgets.",
        "The account budget monitors credit usage for the compute costs of all Budgets supported objects in the account, including\nbackground maintenance tasks (for example, automatic clustering) and serverless features. The account budget must be\nactivated before it can start monitoring credit usage. After it is activated, you\ncan set the monthly spending limit for the account and the email list of notification recipients. Budgets sends\na notification email when current credit usage is expected to exceed the monthly spending limit.",
        "Activate and set up the account budget using the following steps:",
        "Use the account_budget_admin role you created in a previous step to activate the account budget:",
        "Set the spending limit for the account budget to 500 credits per month:",
        "To set up the email notification list, use your verified email address and the notification integration you\ncreated earlier in the tutorial:",
        "Activate and set up the account budget:",
        "Sign in to Snowsight.",
        "Select the ACCOUNT_BUDGET_ADMIN role you created in a previous step.",
        "Select Admin \u00bb Cost Management.",
        "Select Budgets.",
        "If prompted, select na_finance_wh for the warehouse.",
        "In the upper-right corner of the dashboard, select Set up Account Budget.",
        "Enter 500 for the spending limit for the account.",
        "To help you set your monthly spending limit, the configuration tool displays your projected spend for the month\nand your average monthly spend for the previous 3 months. For example, see the screenshot below.",
        "Enter your email address to receive notification emails.",
        "Select Finish Setup.",
        "In this section, you activated the account budget and set the spending limit and the email address to receive budget notifications.",
        "Now that you have activated and set up your account budget, create a custom budget to monitor the credit usage\nin your account for a specified group of objects. For this tutorial, add the na_finance_wh warehouse and\nna_finance_db to the custom budget.",
        "Create custom budgets with the following steps:",
        "Use the budget_owner role to create budget na_finance_budget in budgets_db.budgets_schema:",
        "Set the monthly spending limit and email notification list for budget na_finance_budget using\nthe following steps:",
        "Set the monthly spending limit to 500 credits:",
        "To set up the notification list, use your verified email address and the notification integration created in the first\nstep of the tutorial:",
        "Add database na_finance_db and warehouse na_finance_wh to budget na_finance_budget:",
        "Use the budget_owner role to set up budget na_finance_budget:",
        "Sign in to Snowsight.",
        "Select the BUDGET_OWNER role you created in a previous step.",
        "Select Admin \u00bb Cost Management.",
        "Select Budgets.",
        "Select the budget na_finance_budget.",
        "In the upper-right corner of the dashboard, select  (Edit Budget).",
        "Enter 500 for the Spending limit.",
        "Enter your email address to receive notification emails.",
        "Select Resources to monitor.",
        "Note",
        "You can only add an object to one custom budget. If an object is currently included in one custom budget and\nyou add that object to a second custom budget, Budgets removes the object from the first custom budget without\nissuing a warning.",
        "To add a database, expand Databases to select a database. Select na_finance_db.",
        "When you select a database, all the Budgets supported objects the database\ncontains are also selected. Additionally, any future objects created in the database are automatically\nadded to the budget.",
        "To add a warehouse, expand Warehouses to select a warehouse. Select na_finance_wh.",
        "Select Save Changes.",
        "The Save Changes button is activated only when all the fields are completed.",
        "Grant instance roles to the custom roles you created in a previous step.",
        "Grant the required roles and privileges to the budget_admin role to let the budget_admin\nrole modify and monitor the custom budget na_finance_budget:",
        "Grant the VIEWER instance role to the budget_monitor role to let the budget_monitor\nrole monitor the custom budget na_finance_budget:",
        "In this section, you created a custom budget, added objects for the budget to monitor, and set up the email address\nto receive budget notifications.",
        "You have completed all the steps in the tutorial to activate your account budget, create a custom budget, and create custom\nroles to monitor and manage both account and custom budgets. Credit usage data for your budgets takes some time to populate.",
        "Budgets uses serverless tasks to collect credit usage data for the budgets in your account. After you activate the account\nbudget or create a custom budget, it takes a while for the serverless task to execute. After credit usage data becomes\navailable, you can monitor credit usage for budgets using Snowsight.",
        "To monitor credit usage after usage data becomes available, use the following steps:",
        "Use the account_budget_monitor role created in a previous step and view the spending history for the account budget\nin the past week by executing the following statements:",
        "You can monitor spending history by service type. To view the spending history for the search optimization serverless feature\nfor the account budget in the past week, execute the following statement:",
        "Use the budget_monitor role to view the spending history for the past week for custom budget na_finance_budget:",
        "Use the account_budget_monitor role to view spending history for the account budget:",
        "Sign in to Snowsight.",
        "Select the ACCOUNT_BUDGET_MONITOR role you created in a previous step.",
        "Select Admin \u00bb Cost Management.",
        "Select Budgets.",
        "If prompted, select the na_finance_wh.",
        "Use the budget_monitor role to view spending history for the na_finance_budget custom budget:",
        "Sign in to Snowsight.",
        "Select the BUDGET_MONITOR role you created in a previous step.",
        "Select Admin \u00bb Cost Management.",
        "Select Budgets.",
        "If prompted, select the na_finance_wh.",
        "Congratulations! You have successfully completed this tutorial.",
        "After credit usage data is populated for your account budget and custom budget, see Use Snowsight to monitor budgets.",
        "In summary, you learned how to:",
        "Create custom roles to manage and monitor budgets.",
        "Custom roles enable non-account administrators to monitor credit usage for a budget and modify budget settings. For more\ninformation, see Budgets roles and privileges.",
        "Grant the required privileges to add objects to a custom budget.",
        "The APPLYBUDGET privilege must be granted on an object to add or remove it from a custom budget. Objects are added or removed\nby reference. For more information, see Adding and removing objects from a custom budget.",
        "Activate and set up the account budget.",
        "The account budget must be activated and set up to start monitoring credit usage for your account. The account budget monitors\ncompute costs including background maintenance tasks and serverless features and sends an email notification when current\nspending is expected to exceed the monthly spending limit.",
        "For more information, see Activating the account budget.",
        "Create a custom budget to monitor a specified group of objects in your account.",
        "Custom budgets monitor credit usage for a group of objects in your account. Custom budgets monitor credit usage for compute\ncosts for the objects in the group including background maintenance tasks and serverless features.",
        "For more information, see Creating a custom budget.",
        "For more information, see the following topics:",
        "For a list of supported objects and the serverless features monitored by custom budgets, see Supported objects\nand Supported serverless features.",
        "For more information on monitoring budgets spending, see Use Snowsight to monitor budgets.",
        "You can choose to keep the custom roles and custom budget you created in the tutorial to monitor credit usage. Otherwise,\ndrop the budget and the related custom roles:",
        "To delete the custom budget created in the tutorial, execute the following statements:",
        "To delete the objects created in this tutorial, execute the following statements:",
        "To delete the custom roles created for managing and monitoring the custom budget, execute the following statements:",
        "Snowflake recommends leaving the account budget activated. However, if you decide to deactivate it, see\nDeactivating the account budget for more information and instructions.",
        "To delete the account budget monitor and administrator roles, execute the following statements:",
        "To delete the notification integration, execute the following statements:",
        "Continue learning about budgets and Snowflake using the following resources:",
        "Monitor credit usage with budgets",
        "Understand budget costs",
        "Troubleshoot budgets",
        "Was this page helpful?"
    ]
}