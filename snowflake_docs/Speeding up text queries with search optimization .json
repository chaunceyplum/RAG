{
    "url": "https://docs.snowflake.com/en/user-guide/search-optimization/text-queries",
    "title": "Speeding up text queries with search optimization | Snowflake Documentation",
    "paragraphs": [
        "Enterprise Edition Feature",
        "This feature requires Enterprise Edition (or higher). To inquire about upgrading, please contact Snowflake Support.",
        "Search optimization can improve the performance of queries that use the SEARCH\nand SEARCH_IP functions. These queries search for character data (text) and IPv4\naddresses in specified columns from one or more tables, including elements in VARIANT, OBJECT, and ARRAY columns.",
        "Note",
        "You must enable this feature for specific columns using the\nON clause in the ALTER TABLE \u2026 ADD SEARCH OPTIMIZATION command.\nFor example:",
        "Text searches are not optimized if you omit the ON clause.",
        "The following sections provide more details:",
        "Conditions for runtime use of FULL_TEXT search optimization",
        "Examples of ADD (and DROP) FULL_TEXT search optimization",
        "After you have enabled FULL_TEXT search optimization on a table that is queried with the\nSEARCH function, the search access path for the optimization can be used during query planning and execution.\nThe following conditions must be met:",
        "The search optimization must be ready for use (active column = TRUE in the DESCRIBE SEARCH\nOPTIMIZATION output).",
        "The search optimization must be enabled on a superset of the columns specified in the SEARCH predicate. For example,\nif a table contains VARCHAR columns c1,c2,c3,c4,c5, the search optimization covers columns c1,c2,c3, and the function\nsearches one, two, or three of those columns (but not c4 or c5), the query can benefit from FULL_TEXT search\noptimization.",
        "The analyzer defined for the search optimization in the ALTER TABLE command must be the same as the analyzer specified in\nthe SEARCH function call.",
        "Tip",
        "To find out if a specific search access path was used for a query, look for a Search Optimization Access\nnode in the query profile.",
        "The following examples show how to enable FULL_TEXT search optimization on columns in a table to improve query performance\nwhen the SEARCH function is used to query those columns.",
        "The following example enables FULL_TEXT search optimization on one column and specifies an analyzer.\nThe combination of optimization type and analyzer (method) is reflected in the DESCRIBE output.",
        "If you enable FULL_TEXT search optimization on the same column with the default analyzer, the DESCRIBE output\nreturns two rows and differentiates the two entries by expression ID and method.",
        "The following command enables FULL_TEXT search optimization on a VARIANT column.\n(This car_sales table and its data are described under Querying Semi-structured Data.)",
        "The following example enables FULL_TEXT search optimization on an OBJECT column.",
        "First, create a table with an OBJECT column and insert data:",
        "The following command enables FULL_TEXT search optimization on the OBJECT column.",
        "The following example enables FULL_TEXT search optimization on an ARRAY column.",
        "First, create a table with an ARRAY column and insert data:",
        "The following command enables FULL_TEXT search optimization on the ARRAY column.",
        "You can enable FULL_TEXT optimization on multiple columns, then later drop the optimization\nfrom one or more of those columns. The remaining columns are still optimized.",
        "The following ALTER TABLE command enables FULL_TEXT search optimization on all four VARCHAR columns in the\nlines table:",
        "The following ALTER TABLE command fails with an expected error because one of the specified columns\nis a NUMBER column:",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}