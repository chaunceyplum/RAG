{
    "url": "https://docs.snowflake.com/en/user-guide/tables-iceberg-configure-external-volume-azure-private",
    "title": "Private connectivity to external volumes for Microsoft Azure | Snowflake Documentation",
    "paragraphs": [
        "Business Critical Feature",
        "This feature requires Business Critical (or higher). It is not available in government regions.",
        "To inquire about upgrading, please contact Snowflake Support.",
        "Preview Feature \u2014 Open",
        "Available to all accounts that are Business Critical Edition (or higher) in non-government regions.",
        "This topic provides configuration details to set up outbound private connectivity to an external volume on Microsoft Azure. The primary difference\nbetween outbound public connectivity and outbound private connectivity is how you set the USE_PRIVATELINK_ENDPOINT property for\nthe external volume.",
        "When the external volume is configured to use private connectivity, your connection to the Microsoft Azure cloud storage services goes through the\nMicrosoft Azure internal network. By configuring your external volume to use outbound private connectivity, you add additional security to your\noperations by blocking public access to the storage account.",
        "For more information about using external volumes to connect to your external cloud storage for Iceberg tables, see\nConfigure an external volume.",
        "You pay for each private connectivity endpoint along with total data processed. For pricing of these items, see the Snowflake Service Consumption Table.",
        "You can explore the cost of these items by filtering on the following service types when querying billing views in the ACCOUNT_USAGE and ORGANIZATION_USAGE schemas:",
        "OUTBOUND_PRIVATELINK_ENDPOINT",
        "OUTBOUND_PRIVATELINK_DATA_PROCESSED",
        "For example, you can query the USAGE_IN_CURRENCY_DAILY view and filter on these service types.",
        "You can use private connectivity to access Snowflake-managed Iceberg tables and Iceberg tables that use a catalog integration for object\nstorage, but cannot use it to access Iceberg tables that use other catalog integrations.",
        "You can configure outbound public connectivity and outbound private connectivity for the same cloud storage service. If you want to do\nthis, create a dedicated external volume for outbound public connectivity and specify USE_PRIVATELINK_ENDPOINT = FALSE.",
        "The USE_PRIVATELINK_ENDPOINT property of an external volume determines whether it is accessed through private connectivity or\nby traversing the public network. To use private connectivity, set USE_PRIVATELINK_ENDPOINT = TRUE when creating or modifying an external\nvolume.",
        "Use the following steps to use outbound private connectivity to unload data to an external volume on Microsoft Azure:",
        "In Snowflake, call the SYSTEM$PROVISION_PRIVATELINK_ENDPOINT system function to provision a\nprivate connectivity endpoint in your Snowflake VNet to enable Snowflake to connect to your external Microsoft Azure cloud storage services using\nprivate connectivity:",
        "This function binds the private endpoint to the hostname, which enables the external volume to use the private endpoint to connect\nto the storage location.",
        "In the Azure Portal and as the owner of the Microsoft Azure storage resource, approve the private endpoint. For details, see the\napproval process.",
        "In Snowflake, call the SYSTEM$GET_PRIVATELINK_ENDPOINTS_INFO function.",
        "When the output of the function includes \"status\": \"APPROVED, your connection from Snowflake to your storage account will be\nable to use private connectivity.",
        "You can continue with the next steps while waiting for the \"APPROVED\" status.",
        "Create the external volume, being sure to set the USE_PRIVATELINK_ENDPOINT property to TRUE:",
        "After the private endpoint has an \"APPROVED\" status, test accessing the external volume with a supported operation.",
        "If you no longer need the private connectivity endpoint for the external volume, unset the\nUSE_PRIVATELINK_ENDPOINT property on the external volume, and then call the\nSYSTEM$DEPROVISION_PRIVATELINK_ENDPOINT system function.",
        "Next Topics:",
        "Manage private connectivity endpoints: Azure",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}