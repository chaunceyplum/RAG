{
    "url": "https://docs.snowflake.com/en/user-guide/cost-exploring-compute",
    "title": "Exploring compute cost | Snowflake Documentation",
    "paragraphs": [
        "Total compute cost consists of the overall use of:",
        "Virtual warehouses (user-managed compute resources)",
        "Serverless features such as Automatic Clustering and Snowpipe that use Snowflake-managed compute resources",
        "Cloud services layer of the Snowflake architecture",
        "This topic describes how to gain insight into historical compute costs using Snowsight, or by writing queries against views in\nthe ACCOUNT_USAGE and ORGANIZATION_USAGE schemas.\nSnowsight allows you to quickly and easily obtain information about cost from a visual dashboard. Queries against the usage views\nallow you to drill down into cost data and can help generate custom reports and dashboards.",
        "If you need more information about how compute costs are incurred, refer to Understanding compute cost.",
        "Note",
        "The cloud services layer consumes credits, but not all of those credits are actually billed. Usage for cloud services is charged only if\nthe daily consumption of cloud services exceeds 10% of the daily usage of virtual warehouses. Snowsight and a majority of views\nshow the total number of credits consumed by warehouses, serverless features, and cloud services without accounting for this daily\nadjustment to cloud services.",
        "To determine how many credits were actually billed for compute costs, run queries against the\nMETERING_DAILY_HISTORY view.",
        "All compute resources (virtual warehouses, serverless, cloud services) consume Snowflake credits. Users can use Snowsight to\nview the overall cost of compute usage for any given day, week, or month.",
        "To explore compute cost:",
        "Sign in to Snowsight.",
        "Switch to the ACCOUNTADMIN role. If you are not the account administrator, switch to a role with access to cost and usage data.",
        "Navigate to Admin \u00bb Cost Management.",
        "Select a warehouse to use to view the usage data. Snowflake recommends using an XS warehouse for this purpose.",
        "Select Consumption.",
        "Select Compute from the Usage Type drop-down.",
        "For usage notes related to the Consumption page, see Usage notes.",
        "You can use tags to attribute the cost of using resources to a logical\nunit within your organization. A tag is a Snowflake object that can have one or more values associated with it. A user with the\nappropriate privileges applies a tag/value pair to each resource that is used by a cost center or other logical unit (e.g. the Development\nenvironment, a business unit, or business line). Once resources have been tagged, you can isolate costs based on a\nspecific tag/value pair, allowing you to attribute this cost to a specific logical unit.",
        "Note",
        "Because non-administrators cannot work with tags, you must use the ACCOUNTADMIN role to filter by tag.",
        "To filter the Consumption dashboard to show costs associated with a specific tag/value combination:",
        "Sign in to Snowsight.",
        "Switch to the ACCOUNTADMIN role.",
        "Navigate to Admin \u00bb Cost Management.",
        "Select a warehouse to use to view the usage data. Snowflake recommends using an XS warehouse for this purpose.",
        "Select Consumption.",
        "Select Compute from the Usage Type drop-down.",
        "From the Tags drop-down, select the tag.",
        "Select the value from the list of the tag\u2019s values.",
        "Select Apply.",
        "For example, you can use the drop-down to select the COST_CENTER tag and the SALES value to show usage associated with resources\ntagged with COST_CENTER = SALES while excluding all other usage from the dashboard.",
        "You can also display all resources with a tag regardless of their tag value. Use the drop down to select a\ntag, then choose All instead of a specific value.",
        "When viewing the bar graph that displays compute history, you can filter the data By Type, By Service or By Resource.",
        "Separates resource consumption into compute (virtual warehouses and serverless resources) and cloud services. For the purpose\nof this filter, cloud services is separated out from the other types of compute resources.",
        "Separates resource consumption into warehouse consumption and consumption by each serverless feature. For example,\nWAREHOUSE_METERING represents credits consumed by warehouses while PIPE represents credits consumed by the serverless Snowpipe feature.\nCloud services compute is included in warehouse consumption.",
        "Separates resource consumption by the Snowflake object that consumed credits. For example, each warehouse is represented,\nas is every table that incurred serverless costs.",
        "Snowflake provides two schemas, ORGANIZATION_USAGE and\nACCOUNT_USAGE, that contain data related to usage and cost. The ORGANIZATION_USAGE schema provides\ncost information for all of the accounts in the organization while the ACCOUNT_USAGE schema provides similar information for a single\naccount. Views in these schemas provide granular, analytics-ready usage data to build custom reports or dashboards.",
        "Most views in the ORGANIZATION_USAGE and ACCOUNT_USAGE schemas contain the cost of compute resources in terms of\ncredits consumed. To explore compute cost in currency, rather than credits, write queries against the\nUSAGE_IN_CURRENCY_DAILY view. This view converts credits consumed into cost in currency using the daily\nprice of a credit.",
        "The following views contain information related to the compute costs of all Snowflake features. You can focus on a particular feature by filtering on the service_type column.",
        "For additional views that focus on the cost of a specific feature, see Feature-specific cost views.",
        "View",
        "Compute resource",
        "Description",
        "Schema",
        "METERING_DAILY_HISTORY",
        "Warehouses",
        "Serverless",
        "Cloud Services",
        "Credits consumed by all compute resources (warehouses, serverless, and cloud services) in a given day.",
        "Can be used to determine whether cloud services compute costs were actually billed for a specific day (that is, cloud services credit\nconsumption exceeded 10% of warehouse consumption).",
        "ORGANIZATION_USAGE\nACCOUNT_USAGE",
        "METERING_HISTORY",
        "Warehouses",
        "Serverless",
        "Cloud Services",
        "Credits consumed by warehouses, cloud services, and serverless features on an hourly basis. To see how many credits an individual\nwarehouse is consuming, query the WAREHOUSE_METERING_HISTORY view.",
        "ACCOUNT_USAGE",
        "USAGE_IN_CURRENCY_DAILY",
        "Warehouses",
        "Serverless",
        "Cloud Services",
        "Daily credit consumption by all compute resources along with the cost of that usage in the organization\u2019s currency.",
        "ORGANIZATION_USAGE",
        "The following views that are dedicated to the usage and cost information for a specific feature.",
        "View",
        "Compute resource",
        "Description",
        "Schema",
        "AUTOMATIC_CLUSTERING_HISTORY",
        "Serverless",
        "Credits consumed by automatic clustering.",
        "ORGANIZATION_USAGE\nACCOUNT_USAGE",
        "CORTEX_FINE_TUNING_\nUSAGE_HISTORY",
        "Serverless",
        "Credits consumed for Cortex Fine-tuning.",
        "ACCOUNT_USAGE",
        "CORTEX_FUNCTIONS_\nUSAGE_HISTORY",
        "Serverless",
        "Credits consumed to call Cortex LLM functions.",
        "ACCOUNT_USAGE",
        "CORTEX_SEARCH_SERVING_\nUSAGE_HISTORY",
        "Serverless",
        "Credits consumed for Cortex Search serving",
        "ACCOUNT_USAGE",
        "DATA_QUALITY_MONITORING_\nUSAGE_HISTORY",
        "Serverless",
        "Credits consumed to call scheduled DMFs and ingest results into an event table.",
        "ACCOUNT_USAGE",
        "DATABASE_REPLICATION_USAGE_\nHISTORY",
        "Serverless",
        "Credits consumed for database replication.",
        "ACCOUNT_USAGE",
        "DOCUMENT_AI_\nUSAGE_HISTORY",
        "Serverless",
        "Credits consumed by Document AI.",
        "ACCOUNT_USAGE",
        "HYBRID_TABLE_USAGE_HISTORY",
        "Serverless",
        "Credits consumed for Hybrid Table Requests resources.",
        "ACCOUNT_USAGE",
        "LISTING_AUTO_FULFILLMENT_\nREFRESH_DAILY",
        "Warehouses",
        "Credits used to refresh data fulfilled to other regions by Cross-Cloud Auto-Fulfillment.",
        "DATA_SHARING_USAGE",
        "LISTING_AUTO_FULFILLMENT_\nUSAGE_HISTORY",
        "Warehouses",
        "Estimated usage associated with fulfilling data products to other regions by using Cross-Cloud Auto-Fulfillment.\nRefer to the SERVICE_TYPE of REPLICATION.",
        "ORGANIZATION_USAGE",
        "MATERIALIZED_VIEW_REFRESH_\nHISTORY",
        "Serverless",
        "Credits consumed the refreshing of materialized views.",
        "ORGANIZATION_USAGE\nACCOUNT_USAGE",
        "PIPE_USAGE_HISTORY",
        "Serverless",
        "Credits consumed by Snowpipe.",
        "ORGANIZATION_USAGE\nACCOUNT_USAGE",
        "QUERY_ACCELERATION_HISTORY",
        "Serverless",
        "Credits consumed by the query acceleration service.",
        "ACCOUNT_USAGE",
        "QUERY_ATTRIBUTION_HISTORY",
        "Warehouses",
        "Credits consumed per query for warehouse usage.",
        "ACCOUNT_USAGE",
        "REPLICATION_USAGE_HISTORY",
        "Serverless",
        "Credits consumed and number of bytes transferred during database replication. If possible, use the\nDATABASE_REPLICATION_USAGE_HISTORY view instead.",
        "ORGANIZATION_USAGE\nACCOUNT_USAGE",
        "REPLICATION_GROUP_USAGE_\nHISTORY",
        "Serverless",
        "Credits consumed and number of bytes transferred during replication for a specific replication group.",
        "ACCOUNT_USAGE",
        "SEARCH_OPTIMIZATION_HISTORY",
        "Serverless",
        "Credits consumed by the search optimization service.",
        "ACCOUNT_USAGE",
        "SERVERLESS_ALERT_HISTORY",
        "Serverless",
        "Credits consumed by serverless alerts.",
        "ACCOUNT_USAGE",
        "SERVERLESS_TASK_HISTORY",
        "Serverless",
        "Credits consumed by serverless tasks.",
        "ACCOUNT_USAGE",
        "SNOWPIPE_STREAMING_FILE_\nMIGRATION_HISTORY",
        "Serverless",
        "Credits consumed by Snowpipe Streaming compute (does not include client costs).",
        "ACCOUNT_USAGE",
        "WAREHOUSE_METERING_HISTORY",
        "Warehouses",
        "Cloud Services",
        "Hourly credit usage of each warehouse, including the cloud services cost associated with using the warehouse.",
        "ORGANIZATION_USAGE\nACCOUNT_USAGE",
        "Note",
        "The views and table functions of the Snowflake Information Schema also provide usage data related to cost. Though\nthe ACCOUNT_USAGE schema is preferred, the Information Schema can be faster in some circumstances.",
        "The following queries drill-down into data in ACCOUNT_USAGE views to gain insight into compute costs.",
        "Note",
        "Queries executed against views in the Account Usage schema can be modified to gain insight into cost for the entire organization by\nusing the corresponding view in the Organization Usage schema. For example, both schemas include a WAREHOUSE_METERING_HISTORY view.",
        "Click the name of a query below to see the full SQL example.",
        "Query: Average hour-by-hour Snowflake spend (across all warehouses) over the past m days",
        "Query: Credit consumption by warehouse over specific time period",
        "Query: Warehouse usage over m-day average",
        "Query: Warehouse cost attribution by query tag.",
        "Query: Warehouse cost attribution by user.",
        "Query: Billed cloud services",
        "Query: Total cloud services cost by type of query",
        "Query: Cloud services cost for queries of a given type",
        "Query: Warehouses with high cloud services usage",
        "Query: Cloud services cost sorted by portion of query time",
        "Query: Automatic Clustering cost history (by day, by object)",
        "Query: Automatic Clustering History & m-day average",
        "Query: Search Optimization cost history (by day, by object)",
        "Query: Search Optimization History & m-day average",
        "Query: Materialized Views cost history (by day, by object)",
        "Query: Materialized Views History & m-day average",
        "Query: Query Acceleration Service cost by warehouse",
        "Query: Cumulative usage of data ingest (Snowpipe and \u201cCopy\u201d)",
        "Query: Snowpipe cost history (by day, by object)",
        "Query: Snowpipe History & m-day average",
        "Query: Snowpipe Streaming cost",
        "Query: Total serverless alert cost",
        "Query: Total serverless task cost",
        "Query: Account replication cost",
        "Query: Database replication cost history (by day, by object)",
        "Query: Database replication History & m-day average",
        "Query: Credit consumption by partner tools",
        "Query: Credit consumption by hybrid tables",
        "Query: Credit consumption by Cortex Fine-tuning",
        "Query: Credit consumption by Cortex functions",
        "Query: Credit consumption by Cortex Search serving",
        "Query: Credit consumption by Document AI",
        "This query shows the total credit consumption on an hourly basis to help understand consumption trends (peaks, valleys) over the past m\ndays. This helps identify times of day when there are spikes in consumption.",
        "This query shows the total credit consumption for each warehouse over a specific time period. This helps identify warehouses that are\nconsuming more credits than others and specific warehouses that are consuming more credits than anticipated.",
        "This query returns the daily average credit consumption grouped by week and warehouse. It can be used to identify anomalies in credit\nconsumption for warehouses across weeks from the past year.",
        "Usage for cloud services is billed only if the daily consumption of cloud\nservices exceeds 10% of the daily usage of virtual warehouses. This query returns how much of cloud services consumption was actually\nbilled for a particular day, ordered by the highest billed amount.",
        "This query returns the total credits consumed for cloud services by a particular type of query.",
        "This query returns the total credits consumed for cloud services by all queries of a specifc type. Replace 'COPY' if you want to focus on a different type of query and day if you want to explore a longer or shorter period of time.",
        "This query shows the warehouses that are not using enough warehouse time to cover the cloud services portion of compute. This provides a\nlaunching point for additional investigation by isolating warehouses with a high ratio of cloud service use (>10% of overall credits).\nInvestigation candidates include issues around cloning, listing files in S3, partner tools, setting session parameters, etc.",
        "This query returns all queries run within the last minute and sorts them by parts of total query execution time (e.g. compilation time vs. queue time).",
        "This query provides a list of tables with Automatic Clustering and the volume of credits consumed via the service over the last 30 days,\nbroken out by day. Any irregularities in the credit consumption or consistently high consumption are flags for additional investigation.",
        "This query shows the average daily credits consumed by Automatic Clustering grouped by week over the last year. It can help identify\nanomalies in daily averages over the year so you can investigate spikes or unexpected changes in consumption.",
        "This query provides a full list of tables with Search Optimization and the volume of credits consumed via the service over the last 30\ndays, broken out by day. Any irregularities in the credit consumption or consistently high consumption are flags for additional\ninvestigation.",
        "This query shows the average daily credits consumed by Search Optimization grouped by week over the last year. It can help identify\nanomalies in daily averages over the year so you can investigate spikes or unexpected changes in\nconsumption.",
        "This query provides a full list of materialized views and the volume of credits consumed via the service over the last 30 days, broken\nout by day. Any irregularities in the credit consumption or consistently high consumption are flags for additional investigation.",
        "This query shows the average daily credits consumed by materialized views grouped by week over the last year. It can help identify\nanomalies in daily averages over the year so you can investigate spikes or unexpected changes in\nconsumption.",
        "This query returns the total number of credits used by each warehouse in your account for the query acceleration service\n(month-to-date):",
        "This query returns an aggregated daily summary of all loads for each table in Snowflake showing average file size, total rows, total\nvolume and the ingest method (copy or Snowpipe). If file sizes are too small or big for optimal ingest, additional\ninvestigation/optimization may be required. By mapping the volume to credit consumption, it is possible to determine which tables are\nconsuming more credits per TB loaded.",
        "This query provides a full list of pipes and the volume of credits consumed via the service over the last 30 days, broken out by day.\nAny irregularities in the credit consumption or consistently high consumption are flags for additional investigation.",
        "This query shows the average daily credits consumed by Snowpipe grouped by week over the last year. It can help identify anomalies in\ndaily averages over the year so you can investigate spikes or unexpected changes in consumption.",
        "This query lists the current credit usage for Snowpipe Streaming, including both Snowpipe Streaming compute and client costs.",
        "This query lists the current credit usage for all serverless alerts:",
        "This query lists the current credit usage for all serverless tasks:",
        "This query lists the credits used by a replication or failover group for account replication in the current month:",
        "This query provides a full list of replicated databases and the volume of credits consumed via the replication service over the last 30\ndays, broken out by day. Any irregularities in the credit consumption or consistently high consumption are flags for additional\ninvestigation.",
        "This query shows the average daily credits consumed by Replication grouped by week over the last year. This helps identify any\nanomalies in the daily average so you can investigate any spikes or changes in consumption.",
        "This query identifies which of Snowflake\u2019s partner tools/solutions (e.g. BI, ETL, etc.) are consuming the most credits. This can help\nidentify partner solutions that are consuming more credits than anticipated, which can be a starting point for additional investigation.",
        "This query shows the total credit consumption for each hybrid table over a\nspecific period of time. This helps identify hybrid tables that are\nconsuming more credits than others and specific hybrid tables that are\nconsuming more credits than anticipated.",
        "This query shows the training credit consumption for each Cortex Fine-tuning,\naggregated in one hour increments.",
        "This query shows the credit consumption for each Cortex function call, aggregated in one hour increments based on\nfunction and model.",
        "This query shows the credit consumption for each Cortex function called with the mistral-large model, aggregated in one\nhour increments based on function and model.",
        "This query shows the serving credit consumption for each Cortex Search Service,\naggregated in one hour increments.",
        "This query shows the credit consumption for Document AI.",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}