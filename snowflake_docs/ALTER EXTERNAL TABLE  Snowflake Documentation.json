{
    "url": "https://docs.snowflake.com/en/sql-reference/sql/alter-external-table",
    "title": "ALTER EXTERNAL TABLE | Snowflake Documentation",
    "paragraphs": [
        "Modifies the properties, columns, or constraints for an existing external table.",
        "CREATE EXTERNAL TABLE , DROP EXTERNAL TABLE , SHOW EXTERNAL TABLES , DESCRIBE EXTERNAL TABLE",
        "Partitions added and removed manually",
        "Identifier for the external table to alter. If the identifier contains spaces or special characters, the entire string must be enclosed in double\nquotes. Identifiers enclosed in double quotes are also case-sensitive.",
        "Accesses the staged data files referenced in the external table definition and updates the table metadata:",
        "New files in the path are added to the table metadata.",
        "Changes to files in the path are updated in the table metadata.",
        "Files no longer in the path are removed from the table metadata.",
        "Optionally specify a relative path to refresh the metadata for a specific subset of the data files.",
        "Using this parameter only needs to be done once, when the external table is created. This step synchronizes the metadata with the latest set\nof associated files in the stage and path in the external table definition. Also, this step ensures the external table can read the data files\nin the specified stage and path, and that no files were missed in the external table definition.",
        "Note",
        "This parameter is not supported by partitioned external tables when partitions are added manually by the object owner (i.e.\nwhen PARTITION_TYPE = USER_SPECIFIED).",
        "If TABLE_FORMAT = DELTA is set on the external table, REFRESH does not support a relative path to refresh the\nmetadata for a specific subset of the data files.",
        "Adds the specified comma-separated list of files to the external table metadata. Typically, the ADD FILES and REMOVE FILES\nparameters are used to refresh the external table metadata manually (i.e. when AUTO_REFRESH = FALSE). The file references are expressed\nas paths relative to [ WITH ] LOCATION in the external table definition. For information, see CREATE EXTERNAL TABLE.",
        "List the path and filename of each file.",
        "The ALTER EXTERNAL TABLE statement automatically refreshes the external table metadata and adds the files, if present in the specified storage\nlocation.",
        "This parameter is not supported by partitioned external tables when partitions are added manually by the object owner (i.e.\nwhen PARTITION_TYPE = USER_SPECIFIED).",
        "Removes the specified comma-separated list of files from the external table metadata. Typically, the ADD FILES and REMOVE FILES\nparameters are used to refresh the external table metadata manually (i.e. when AUTO_REFRESH = FALSE). The file references are expressed\nas paths relative to [ WITH ] LOCATION in the external table definition. For information, see CREATE EXTERNAL TABLE.",
        "List the path and filename of each file.",
        "The ALTER EXTERNAL TABLE statement automatically refreshes the external table metadata and removes the files.",
        "This parameter is not supported by partitioned external tables when partitions are added manually by the object owner (i.e.\nwhen PARTITION_TYPE = USER_SPECIFIED).",
        "Specifies one or more properties/parameters to set for the external table (separated by blank spaces, commas, or new lines):",
        "Specifies whether Snowflake should enable triggering automatic refreshes of the external table metadata when new or updated data files\nare available in the named external stage specified in the [ WITH ] LOCATION = setting.",
        "Note",
        "You must configure an event notification for your storage location to notify Snowflake when new or updated data is available\nto read into the external table metadata. For more information, see the instructions for your cloud storage service:",
        "Refreshing external tables automatically for Amazon S3",
        "Refreshing external tables automatically for Google Cloud Storage",
        "Refreshing external tables automatically for Azure Blob Storage",
        "This parameter is not supported by partitioned external tables when partitions are added manually by the object owner\n(i.e. when PARTITION_TYPE = USER_SPECIFIED).",
        "Setting this parameter to TRUE is not supported for external tables that reference data files stored on an S3-compatible external stage.",
        "Snowflake enables triggering automatic refreshes of the external table metadata.",
        "Snowflake does not enable triggering automatic refreshes of the external table metadata. You must manually refresh the external table metadata\nperiodically using ALTER EXTERNAL TABLE \u2026 REFRESH to synchronize the metadata with the current list of files in the stage path.",
        "Default: TRUE",
        "Use the following parameters to add or remove partitions when the partition type for the external table is user-specified (i.e.\nPARTITION_TYPE = USER_SPECIFIED):",
        "Manually add a partition for one or more partition columns defined for the external table in a specified location (i.e. path).",
        "Note",
        "The maximum length of user-specified partition column names is 32 characters.",
        "Adding a partition also adds any new or updated files in the location to the external table metadata.",
        "Manually drop all partitions in a specified location (i.e. path).",
        "Dropping a partition also removes any files in the location from the external table metadata.",
        "A role used to execute this SQL command must have the following\nprivileges at a minimum:",
        "Privilege",
        "Object",
        "Notes",
        "OWNERSHIP",
        "External table",
        "OWNERSHIP is a special privilege on an object that is automatically granted to the role that created the object, but can also be transferred using the GRANT OWNERSHIP command to a different role by the owning role (or any role with the MANAGE GRANTS privilege).",
        "USAGE",
        "Stage",
        "Required to manually refresh the external table metadata.",
        "USAGE",
        "File format",
        "Required to manually refresh the external table metadata.",
        "The USAGE privilege on the parent database and schema are required to perform operations on any object in a schema.",
        "For instructions on creating a custom role with a specified set of privileges, see Creating custom roles.",
        "For general information about roles and privilege grants for performing SQL actions on\nsecurable objects, see Overview of Access Control.",
        "Only the external table owner (i.e. the role with the OWNERSHIP privilege on the external table) or higher can execute this command.",
        "The following commands can be used in explicit transactions (using BEGIN \u2026 COMMIT):",
        "ALTER EXTERNAL TABLE ... REFRESH",
        "ALTER EXTERNAL TABLE ... ADD FILES",
        "ALTER EXTERNAL TABLE ... REMOVE FILES",
        "Explicit transactions could be used to ensure a consistent state when manually replacing updated files in external table metadata.",
        "Add or remove columns in an external table using the following syntax:",
        "Note",
        "The default VALUE and METADATA$FILENAME columns cannot be dropped.",
        "See the ALTER TABLE topic for examples.",
        "To add and drop a row access policy on an external table, or to set or unset a tag, use the ALTER TABLE command.",
        "However, you can create an external table with a row access policy and a tag on the table. See CREATE EXTERNAL TABLE.",
        "You can use data metric functions with external tables by executing an ALTER TABLE command. For more information, see\nWorking with data metric functions.",
        "Regarding metadata:",
        "Attention",
        "Customers should ensure that no personal data (other than for a User object), sensitive data, export-controlled data, or other regulated data is entered as metadata when using the Snowflake service. For more information, see Metadata fields in Snowflake.",
        "Manually refresh the entire set of external table metadata based on changes in the referenced data files:",
        "Similar to the first example, but manually refresh only a path of the metadata for an external table:",
        "Add an explicit list of files to the external table metadata:",
        "Remove an explicit list of files from the external table metadata:",
        "Replace an updated log file for December 2019 in the external table metadata in an explicit transaction:",
        "Manually add partitions in a specified location for the partition columns:",
        "Snowflake adds the partitions to the metadata for the external table. The operation also adds any new data files in the specified\nlocation to the metadata.",
        "Manually remove partitions from a specified location:",
        "Snowflake removes the partitions from the metadata for the external table. The operation also removes any data files in the specified\nlocation from the metadata.",
        "Was this page helpful?",
        "On this page"
    ]
}