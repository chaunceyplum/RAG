{
    "url": "https://docs.snowflake.com/en/user-guide/ui-snowsight/notebooks-work-with-files",
    "title": "Work with files in Snowflake Notebooks | Snowflake Documentation",
    "paragraphs": [
        "Feature \u2014 Generally Available",
        "Generally available in Amazon Web Services (AWS), Microsoft Azure, and Google Cloud Platform (GCP) commercial regions.",
        "This topic describes how you can upload and access files from your Snowflake Notebooks.",
        "When you create a new notebook, the main notebook file is created. You can view this file in the Files tab\non the left side of the notebook. Files are stored in an internal stage that represents your notebook environment, and they persist\nbetween sessions.",
        "Main notebook file: By default, this file is named notebook_app.ipynb. If your notebook is created from Git or uploaded from another\n.ipynb file, the filename may be different.",
        "environment.yml: This file is autogenerated after you install a new package. It describes your notebook environment, including which packages\nare installed.",
        "To inspect the contents of the file, select the file name to display a preview of the file content.",
        "Your notebook has a temporary filesystem that is available during an active session. Any files created during the session are saved in\nthis temporary stage. Files on the temporary stage will not be available after you end the current notebook session.",
        "The following code creates a file called myfile.txt and writes some text in it:",
        "You can access this file during the same session it was created.",
        "Use the listdir() method to list the files in the temporary stage:",
        "Now disconnect from your current session and reconnect. Try the listdir() method again and myfile.txt file will not be listed.",
        "To persist your files across notebook sessions:",
        "Store files in a Snowflake stage",
        "Add files to a notebook from a local computer",
        "Sync with files from Git",
        "If you want your files to persist between sessions and reference the files across different notebooks, use a Snowflake stage to store them.\nYou can upload files from your local machine onto the stage and use file operations from Snowpark API to access them from your notebook.",
        "This example shows how to create a stage and store and retrieve files from it from your notebook.",
        "To create a stage called permanent_stage, run the follow code in a SQL cell:",
        "Next, to create a file called myfile.txt with some text in it, run the following code in a Python cell:",
        "Note that at this point, myfile.txt is stored in the notebook\u2019s temporary filesystem.\nTo move this to the stage, you can use Snowpark API to upload the myfile.txt to your permanent_stage:",
        "If you disconnect your session and reconnect, you can run the following code in a SQL cell to verify whether the file still appears:",
        "You can upload files from your local computer to be used in your Snowflake notebook.",
        "Sign in to Snowsight.",
        "Select Projects \u00bb Notebooks.",
        "In the Files tab, next to the database object explorer, select the  icon to select files to upload.",
        "Browse and select or drag and drop files into the dialog.",
        "Select Upload to upload your file.",
        "Uploaded files are saved to the notebook\u2019s internal stage and persisted between sessions. You can reference uploaded files using their\nlocal paths from the notebook file. See Referencing files in Notebooks.",
        "Note",
        "For notebooks on container runtime: if your notebook session is active when you uploaded the file, you will need to restart your notebook\nsession for the uploaded file to be accessible. Snowflake recommends adding all the files you need before starting your session for use\nin your notebook.",
        "If your notebook is connected to Git, then any files in the same Git folder as your notebook will be displayed in the Files tab.",
        "For more information on working with files in Git, see Sync Snowflake Notebooks with a Git repository.",
        "Each file in the notebook environment has a stage path and a local path. You can use these paths to reference the file in the notebook.",
        "In general, Python libraries use the local path to the file as reference to the file.\nFor example, the following code accesses the data.csv file that was uploaded to the same directory as the notebook that this code\nis running in:",
        "With SQL, Snowflake references files based on the stage path.\nThe stage path for a file in your notebook is based on the following format:",
        "To find the stage path associated with the files in your notebook stage using the Copy path menu:",
        "Sign in to Snowsight.",
        "Select Projects \u00bb Notebooks.",
        "In the Files tab, next to the database object explorer, select the  icon next to the file you\nwant to get the path for.",
        "Select Copy path. This copies the path of the file to your clipboard.",
        "Then you can use the following SQL statement to list the stage file details:",
        "You need to use a role with the following privileges to access files from a stage in a notebook.",
        "Privilege",
        "Object",
        "USAGE",
        "Stage that contains the files.",
        "Load files before starting your notebook session. If you load files after a session has started, you have to restart your session to\naccess the files.",
        "No restrictions on file types to upload.",
        "The size limit per file is 250 MB or less.",
        "Files that are written to a local path in the notebook are not displayed in the Files tab. However, you can still use the file in\nyour notebook code.",
        "For example, if you create a file, data.json, you can access it as shown in the following code even though it won\u2019t be visible\nin the Files UI:",
        "Opening another .ipynb file that is not the main notebook file is not supported.",
        "How to work with files in Snowflake Notebooks",
        "Navigating and Browsing Files in Snowflake Notebooks",
        "Was this page helpful?",
        "On this page"
    ]
}