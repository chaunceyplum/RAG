{
    "url": "https://docs.snowflake.com/en/sql-reference/functions/system_estimate_search_optimization_costs",
    "title": "SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS | Snowflake Documentation",
    "paragraphs": [
        "System functions (System Information)",
        "Enterprise Edition Feature",
        "This feature requires Enterprise Edition (or higher). To inquire about upgrading, please contact Snowflake Support.",
        "Returns the estimated costs of adding search optimization to a given table and\nconfiguring specific columns for search optimization.",
        "Important",
        "Cost estimates returned by the SYSTEM$ESTIMATE_SEARCH_OPTIMIZATION_COSTS function are best efforts. The actual realized\ncosts can vary by up to 50% (or, in rare cases, by several times) from the estimated costs.",
        "Build and storage cost estimates are based on sampling a subset of the rows in the table",
        "Maintenance cost estimates are based on recent create, delete, and update activity in the table",
        "Required:",
        "Table for which you want to estimate the search optimization costs.",
        "If the table name is not fully-qualified (in the form of db_name.schema_name.table_name or\nschema_name.table_name), the function looks for the table in the current schema for the session.",
        "The entire name must be enclosed in single quotes.",
        "Optional:",
        "Specifies a search method and target for a\ncolumn configuration similar to what can be\nspecified in the ON clause of the ALTER TABLE \u2026 ADD SEARCH\nOPTIMIZATION command.",
        "This entire argument must be enclosed in single quotes. Within this string, use double quotes around column names\nwhere required.",
        "The function returns a JSON object with the properties described below:",
        "Property",
        "Description",
        "tableName",
        "Name of the table.",
        "searchOptimizationEnabled",
        "true if search optimization is enabled for the table or any columns in it; false otherwise.",
        "costPositions",
        "Array of objects that describe the predicted costs of adding search optimization to the table or its columns.",
        "Each object in the costPositions array represents a different type of cost estimate:",
        "The name property identifies the type of cost represented by the object. name can be one of the following:",
        "name of object in costPositions",
        "Description",
        "BuildCosts",
        "This object describes the predicted costs of building the search access path for the table.  If search optimization has already been added to the table or to all the specified columns, this object contains no cost information.",
        "StorageCosts",
        "This object describes the predicted amount of storage space (in TB) needed for the search access path for the table.",
        "Benefit",
        "This object appears only when the table has search optimization enabled. It does not contain information at this time.",
        "MaintenanceCosts",
        "This object describes the predicted costs of maintaining the search access path for the table when rows are inserted, deleted, or modified. If the table has been created recently, no cost information is reported.",
        "Each object in the costPositions array can have the following properties:",
        "Property",
        "Description",
        "name",
        "Name that identifies the type of cost information represented by this object.",
        "costs",
        "Object that describes the predicted costs in terms of the following properties:",
        "Amount of the predicted cost.",
        "Unit of measure for the cost (e.g., \u201cCredits\u201d for compute costs, \u201cTB\u201d for storage costs, etc.).",
        "For maintenance costs, the unit of time that the estimated cost covers (for example, \"MONTH\" for the cost per month).",
        "computationMethod",
        "Method used to estimate the costs, if multiple methods are available.",
        "comment",
        "Additional information about the estimated cost.",
        "The searchOptimizationEnabled property is true when the table or any column in it has search optimization enabled.",
        "For the build cost, this function returns an approximation based on building search access paths for a sample of the data in the\nspecified table.",
        "For the maintenance cost, this function bases the estimates on recent changes made to the table (the changes to bytes over\ntime).",
        "In order to call the function, you must have a warehouse in use. If no warehouse is currently in use, the function reports the\nfollowing error:",
        "The warehouse size has no effect on the performance of this function, so you can use an\nX-Small warehouse.",
        "Because the function uses a warehouse, you are billed for warehouse usage for this function.",
        "The function can take somewhere in the range of 20 seconds to 10 minutes to complete. Using a larger warehouse does\nnot result in faster execution.",
        "The following example shows the estimated costs of adding search optimization to a table:",
        "The following example shows the output of this function for a table that already has search optimization enabled. You\ncan see that no build cost information is available in this case. Also, the Benefit property is included (but\nit does not contain any information).",
        "The following example shows the output of this function for estimating search optimization on three specific columns of\na table using the EQUALITY search method (that is, the estimate is for enabling search optimization only for equality\ncomparisons on these columns). Neither the table nor any of its columns already have any type of search optimization enabled.",
        "If a similar query is run on a table where search optimization is already enabled for any of the specified columns, the\noutput includes a build cost estimate that covers adding search optimization to the specified columns where it is\nnot already enabled. This is different from the earlier example where we were estimating search optimization on a whole\ntable where search optimization was already enabled, which resulted in no build cost estimate since there was no build\nwork to be done.",
        "The storage estimate here includes only the actual search access path size for the columns where search optimization is\nalready enabled.",
        "The maintenance estimate covers all of the specified columns regardless of whether they already have search optimization\nenabled.",
        "Was this page helpful?",
        "On this page"
    ]
}