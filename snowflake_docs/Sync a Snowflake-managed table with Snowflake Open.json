{
    "url": "https://docs.snowflake.com/en/user-guide/tables-iceberg-open-catalog-sync",
    "title": "Sync a Snowflake-managed table with Snowflake Open Catalog | Snowflake Documentation",
    "paragraphs": [
        "To query a Snowflake-managed Apache Iceberg\u2122 table using a third-party engine such as Apache Spark\u2122, you can sync the table with Snowflake Open Catalog.",
        "This topic covers how to sync a Snowflake-managed Iceberg table with Snowflake Open Catalog using a catalog integration in Snowflake and an external catalog\nin Open Catalog.",
        "If you don\u2019t have one already, start by creating an external volume in Snowflake that provides access to the\ncloud storage location where you want to store your table data and metadata.",
        "Complete the instructions for your cloud storage service:",
        "Amazon S3",
        "Google Cloud Storage",
        "Azure Storage",
        "Next, complete the steps in this section to create an external catalog and service connection in your Open Catalog account.",
        "Follow the instructions in Create a catalog\nto create an external catalog in your Open Catalog account. Make sure that the following settings for the external catalog are configured:",
        "The External toggle is enabled.",
        "The Default base location matches the STORAGE_BASE_URL for the external volume you created in Step 1: Create an external volume.",
        "Open Catalog syncs your Snowflake-managed tables to this external catalog.",
        "If you don\u2019t already have a service connection for Snowflake, follow the instructions in Configure a service connection\nto create a connection for the Snowflake engine in your Open Catalog account.",
        "Configure a catalog role for your external catalog with privileges that allow access to your external catalog.\nFor instructions, see Grant privileges to a catalog.",
        "The catalog role must have the following privileges on the catalog:",
        "TABLE_CREATE",
        "TABLE_WRITE_PROPERTIES",
        "TABLE_DROP",
        "NAMESPACE_CREATE",
        "NAMESPACE_DROP",
        "You can either grant each of these privileges to the catalog role, or grant the CATALOG_MANAGE_CONTENT privilege, which includes\nthese privileges. For more information, see\nCatalog privileges for Snowflake Open Catalog.",
        "Attach the catalog role to the principal role for your service connection. This lets the service connection access the catalog.\nFor instructions, see Grant a catalog role to a principal role.",
        "Create a catalog integration for Open Catalog by using the CREATE CATALOG INTEGRATION (Snowflake Open Catalog) command. For WAREHOUSE,\nspecify the name of the external catalog that you configured in your Open Catalog account.",
        "To troubleshooting issues with creating a catalog integration, see You can\u2019t create a catalog integration for Open Catalog.",
        "Note",
        "You can use this catalog integration to sync one or more Snowflake-managed tables.",
        "Create a Snowflake-managed Iceberg table by using the CREATE ICEBERG TABLE (Snowflake as the Iceberg catalog) command.",
        "Important",
        "To ensure that access privileges in Open Catalog are enforced correctly on the table, make sure the table meets certain conditions\nbefore creating it. These conditions relate to the directory structure hierarchy for the catalog. For these conditions and instructions on\nhow to meet them, see the note in\nOrganize catalog content\nin the Snowflake Open Catalog documentation.",
        "For the CATALOG_SYNC parameter, specify the name of your catalog integration for Open Catalog.",
        "To troubleshooting issues with creating a Snowflake-managed table, see You can\u2019t create a Snowflake-managed table.",
        "When you modify the table in Snowflake, the changes are automatically synchronized with the external catalog in your Open Catalog account. Other\nengines such as Apache Spark\u2122 can query the table by connecting to Open Catalog.",
        "Was this page helpful?",
        "On this page"
    ]
}