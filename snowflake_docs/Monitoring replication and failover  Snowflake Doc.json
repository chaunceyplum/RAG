{
    "url": "https://docs.snowflake.com/en/user-guide/account-replication-monitor",
    "title": "Monitoring replication and failover | Snowflake Documentation",
    "paragraphs": [
        "Standard & Business Critical Feature",
        "Database and share replication are available to all accounts.",
        "Replication of other account objects & failover/failback require Business Critical Edition (or higher).\nTo inquire about upgrading, please contact Snowflake Support.",
        "This topic provides information on how to monitor account replication progress, history, and costs.",
        "Preview Feature \u2014 Open",
        "Available to accounts in all regions and cloud platforms.\nCurrently this feature is not supported for accounts using private connectivity.",
        "To monitor the replication progress and status for replication and failover groups in an\norganization, use the Replication page in Snowsight.",
        "You can view the status and details of refresh operations, including:",
        "Current status of the most recent refresh operation.",
        "Replica lag time (time since the last refresh operation).",
        "Distribution of replica lag times across groups.",
        "Date and time of the next scheduled refresh operation.",
        "Note",
        "Snowsight lists the replication and failover groups for which your role has the MONITOR, OWNERSHIP, or REPLICATE privilege on.",
        "Refresh operation details are only available to users with the ACCOUNTADMIN role or the OWNERSHIP privilege on the group.",
        "You must be signed in to the target account to view refresh operation details. If you are not, you will be prompted to sign in.",
        "Both the source account and the target account must use the same connection type (public internet). Otherwise, signing in to\nthe target account fails.",
        "To view the replication status of each replication or failover group, complete the following steps:",
        "Sign in to Snowsight and navigate to Admin \u00bb Accounts.",
        "Select Replication and then select Groups.",
        "The Groups page displays refresh operation details for all the groups for which your\nrole has a privilege to view. You can use the tiles to filter the view.",
        "For example, if the Status tile indicates there are failed refresh operations, you can select the tile to investigate the group(s)\nwith failures.",
        "The lag time in the Longest Replication lag tile refers to the duration of time since the last refresh operation. This is the\nlength of time that the secondary replication or failover group lags behind the primary group. The longest lag time is the\nlength of time since the oldest secondary replication group was last refreshed.",
        "For example, if you have three failover groups, fg_1, fg_2, fg_3, with independent replication schedules of\n10 minutes, 2 hours, and 12 hours respectively, the longest lag time could be as long as 12 hours. If fg_3, however, was\nrecently refreshed in the target account, its lag time resets to 0 and a different failover group could have a longer lag time.",
        "You can select an individual bar in the Group Lag Distribution tile to filter the results to an individual group.",
        "You can also filter groups by using the search field or the dropdown menus:",
        "You can search by replication or failover group name using the  (search) box.",
        "Choose Type to filter the results by replication or failover group.",
        "Choose Replicating to filter by primary (select To) or secondary groups (select From).",
        "Choose the  (accounts) menu to filter the results by account name.",
        "Choose Status to filter results by refresh operation status:",
        "Refresh Cancelled",
        "Refresh Failed",
        "Refresh In Progress",
        "Refresh Successful",
        "You can see the following details about your replication and failover groups:",
        "Column",
        "Description",
        "Name",
        "Name of the replication or failover group.",
        "Is Replicating",
        "Indicates if the group is being replicated to a target account or from a source account.",
        "If this column contains destinations available, there are no secondary replication or failover groups.\nThe number of destinations available indicates the number of target accounts the primary group can be replicated to.",
        "Status",
        "Displays the status of the latest refresh operation.",
        "You must be signed in to the target account in order to access replication details.\nIf you are not signed in, select Sign in to view refresh operation status for the secondary group.",
        "Both the source account and the target account must use the same connection type (public internet). Otherwise, signing in\nto the target account fails.",
        "Replication Lag",
        "The length of time since the last refresh operation. This is the length of time that the secondary replication group \u201clags\u201d behind\nthe primary replication group.",
        "Next Refresh",
        "The date and time of the next scheduled refresh operation.",
        "You can select a replication or failover group to view detailed information about each refresh operation. For more information, see\nthe section on replication history in Snowsight.",
        "This section provides information on how to monitor replication progress for a specific replication or failover group using either\nSnowsight or SQL.",
        "Preview Feature \u2014 Open",
        "Available to accounts in all regions and cloud platforms.\nCurrently this feature is not supported for accounts using private connectivity.",
        "You can view the status of a refresh operation in progress and the details of historical refresh operations using Snowsight.",
        "Sign in to Snowsight and navigate to Admin \u00bb Accounts.",
        "Select Replication, select Groups.",
        "Select the name of a replication or failover group.",
        "For more information about the detailed view, see the section on replication history in Snowsight.",
        "To monitor the progress of a replication or failover group refresh, query the\nREPLICATION_GROUP_REFRESH_PROGRESS, REPLICATION_GROUP_REFRESH_PROGRESS_BY_JOB table function (in the Snowflake Information Schema).",
        "View the progress of the most recent refresh operation for the failover group myfg:",
        "You can view replication history using Snowsight or using SQL.",
        "Note",
        "You can view the replication history for the replication and failover groups for which your role has the MONITOR, OWNERSHIP, or\nREPLICATE privilege on.",
        "Preview Feature \u2014 Open",
        "Available to accounts in all regions and cloud platforms.\nCurrently this feature is not supported for accounts using private connectivity.",
        "You can view the replication history and details for each refresh operation for a specific replication or failover group in the details\npage for the group.",
        "Sign in to Snowsight and navigate to Admin \u00bb Accounts.",
        "Select Replication, select Groups.",
        "Select the name of a replication or failover group.",
        "You can then review the following information about the group:",
        "Group type (replication group or failover group).",
        "Replication schedule (for example, every 10 minutes).",
        "Duration of each refresh operation.",
        "Replica lag time (length of time since last refresh operation).",
        "Date and time of the next scheduled refresh operation.",
        "You can filter the data on the page by status and time period:",
        "Choose Status to filter results by refresh operation status:",
        "Refresh Cancelled",
        "Refresh Failed",
        "Refresh In Progress",
        "Refresh Successful",
        "Choose Duration to show refresh operation details for:",
        "Last hour",
        "Last 24 hours",
        "Last 7 days",
        "All",
        "Selecting All displays the last 14 days of refresh operations.",
        "The details for each refresh operation include the following columns:",
        "Column",
        "Description",
        "Query ID",
        "Query ID of the refresh operation.",
        "Status",
        "Displays the status of the refresh operation. Valid values include Successful, Failed, In Progress.",
        "Ended",
        "Date and time the refresh operation ended.",
        "Duration",
        "The length of time the refresh operation took to complete.",
        "The duration period is broken down and color coded by replication phase. The width\nof each colored segment indicates the portion of the time spent in that phase.",
        "The image below is for reference only. This graph is available when you\nselect the refresh operation for additional details.",
        "Transferred",
        "The number of bytes replicated.",
        "Objects",
        "The number of objects replicated.",
        "Select a row to view additional details about a specific refresh operation including:",
        "Duration of each replication phase.",
        "Error message (for failed refresh operations).",
        "List of database objects replicated by type and number.",
        "Number of databases replicated and database names.",
        "To view the replication history of a specific replication or failover group within a specified date range, query one of the following:",
        "REPLICATION_GROUP_REFRESH_HISTORY table function (in the Snowflake Information Schema).",
        "REPLICATION_GROUP_REFRESH_HISTORY view (in Account Usage).",
        "Query the Information Schema REPLICATION_GROUP_REFRESH_HISTORY table function to view the account replication history of failover\ngroup myfg in the last 7 days:",
        "Query the Account Usage REPLICATION_GROUP_REFRESH_HISTORY view to view the account replication history in the current month:",
        "To monitor credit usage for replication, query one of the following:",
        "REPLICATION_GROUP_USAGE_HISTORY view (in Account Usage).",
        "REPLICATION_GROUP_USAGE_HISTORY table function (in the Snowflake Information Schema).",
        "Query the REPLICATION_GROUP_USAGE_HISTORY table function to view credits used for account replication in the last 7 days:",
        "Query the Account Usage REPLICATION_GROUP_USAGE_HISTORY view to view the credits used by replication or failover group for account\nreplication history in the current month:",
        "The cost for replication for an individual database included in a replication or failover group can be calculated by retrieving the\nnumber of copied bytes for the database and associating it with the credits used.",
        "The following examples calculate the costs for database replication in one replication group for the past 30 days.",
        "Query the REPLICATION_GROUP_REFRESH_HISTORY Account Usage view and calculate the sum of the number of bytes replicated per database.",
        "For example, to calculate the sum of the number of bytes replicated for databases in the replication group myrg in the last\n30 days:",
        "Note the output of the sum of database bytes:",
        "Query the REPLICATION_GROUP_USAGE_HISTORY Account Usage view and calculate the sum of the number of credits used and the sum\nof the bytes transferred for replication.",
        "For example, to calculate the sum of the number of credits used and the sum of the bytes transferred for replication of the\nreplication group myrg in the last 30 days:",
        "Note the output of the sum of the credits used and the sum of bytes transferred:",
        "Calculate the replication costs for databases using the values of the bytes transferred for databases, sum of the credits used, and\nthe sum of all bytes transferred for replication from the previous two steps:",
        "(<database_bytes_transferred> / <bytes_transferred>) * <credits_used>",
        "For example:",
        "(22016 / 22013) * 1.357923604 = 1.35810866)",
        "For refresh operations within the past 14 days, query the associated Information Schema table functions.",
        "REPLICATION_GROUP_REFRESH_HISTORY",
        "REPLICATION_GROUP_USAGE_HISTORY",
        "Query the REPLICATION_GROUP_REFRESH_HISTORY table function to view the sum of the number of bytes copied for database replication\nfor the replication group myrg:",
        "Query the REPLICATION_GROUP_USAGE_HISTORY table function to view sum of the number of credits used and the sum of the bytes\ntransferred for replication for the replication group myrg:",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}