{
    "url": "https://docs.snowflake.com/en/sql-reference/sql/execute-job-service",
    "title": "EXECUTE JOB SERVICE | Snowflake Documentation",
    "paragraphs": [
        "Feature \u2014 Generally Available",
        "Available to accounts in AWS and Microsoft Azure commercial regions, with some exceptions. For more information, see Available regions.",
        "Note",
        "This operation is not currently covered by the Service Level set forth in\nSnowflake\u2019s Support Policy and Service Level Agreement.",
        "Executes a Snowpark Container Services service as a job.",
        "A service, created using CREATE SERVICE, is long-running and you must explicitly stop it when it is no longer needed. On the other hand, a job, created using EXECUTE JOB SERVICE, is a service that terminates when your code exits, similar to a stored procedure. When all containers exit, the job is done.",
        "By default, the job runs synchronously; the EXECUTE JOB SERVICE command finishes only after all containers exit. After the job is complete, Snowflake performs the necessary cleanup automatically. However, this cleanup is not immediate, because as Snowflake retains the job for a short period to allow customers to monitor and debug the job service post-execution.",
        "Alternatively, you can run the job service asynchronously by specifying the optional ASYNC parameter. In this case, the command returns immediately while the job is running. You can use the DESCRIBE SERVICE command to poll for job completion and then call the  SYSTEM$WAIT_FOR_SERVICES function to wait for the job to complete.",
        "For asynchronous jobs, Snowflake does not perform automatic cleanup after completion. You must explicitly execute the DROP SERVICE command to remove the job.",
        "Note that the command parameters must be specified in a specific order. For more information, see Usage Notes.",
        "SYSTEM$GET_SERVICE_STATUS \u2014 Deprecated , SYSTEM$GET_SERVICE_LOGS",
        "Where:",
        "Specifies the name of the compute pool in your account on which to run the service.",
        "Specifies the Snowflake internal stage where the specification file is stored; for example, @tutorial_stage.",
        "Specifies the path to the service specification\nfile on the stage; for example, 'some-dir/echo_spec.yaml'.",
        "Specifies the path to the service specification\ntemplate file on the stage; for example, 'some-dir/echo_template_spec.yaml'. When SPECIFICATION_TEMPLATE_FILE is specified, the USING parameter is required.",
        "Specifies service specification. You can use\na pair of dollar signs ($$) to delimit the beginning and ending of the\nspecification string.",
        "Specifies service specification. You can use a\npair of dollar signs ($$) to delimit the beginning and ending of the\nspecification string. When SPECIFICATION_TEMPLATE is specified, the USING parameter is required.",
        "The name (that is the identifier) for the service, that executes like a job; it must be unique for the schema in which the service\nis created.",
        "Quoted names for special characters or case-sensitive names are not supported. The same constraint also applies to database\nand schema names where you create a service. That is, database and schema names without quotes are valid when creating a\nservice.",
        "Preview Feature \u2014 Open",
        "Using the optional ASYNC property to execute a job service asynchronously is a preview feature.",
        "Specifies whether to execute the job asynchronously.",
        "Default: FALSE",
        "Warehouse to use if a service container connects to Snowflake to execute a query but does not explicitly specify a warehouse\nto use.",
        "Default: none.",
        "Specifies the names of the external access integrations\nthat allow your job to access external sites. The names in this list are case-sensitive. By default, application containers don\u2019t have\npermission to access the internet. If you want to allow your job to access an external site, create an External Access Integration\n(EAI), and configure your job to use that integration. For more\ninformation, see Configuring network egress.",
        "Specifies a comment for the service.",
        "Default: No value",
        "Specifies the tag name and the tag string value.",
        "The tag value is always a string, and the maximum number of characters for the tag value is 256.",
        "For information about specifying tags in a statement, see Tag quotas for objects and columns.",
        "Lets you provide values to parameterize specification template expansion.",
        "USING is required when using a specification template (FROM SPECIFICATION_TEMPLATE_FILE or FROM SPECIFICATION_TEMPLATE). The key-value pairs must form a comma-separated list.",
        "Where:",
        "key is the name of the template variable. The template variable name can optionally be enclosed in double quotes\n(\").",
        "value is the value to assign to the variable in the template. String values must be enclosed in ' or\n$$. The value must either be alphanumeric or valid JSON.",
        "A role used to execute this SQL command must have the following\nprivileges at a minimum:",
        "Privilege",
        "Object",
        "Notes",
        "CREATE SERVICE",
        "Schema",
        "USAGE",
        "Compute pool",
        "READ",
        "Stage",
        "This is the stage where the specification is stored.",
        "READ",
        "Image Repository",
        "Repository of images referenced by the specification.",
        "The USAGE privilege on the parent database and schema are required to perform operations on any object in a schema.",
        "For instructions on creating a custom role with a specified set of privileges, see Creating custom roles.",
        "For general information about roles and privilege grants for performing SQL actions on\nsecurable objects, see Overview of Access Control.",
        "When calling EXECUTE JOB SERVICE, the parameters should be provided in this order: specify compute pool, followed by other properties, and finally the service specification (either provide specification file name on stage or inline specification).",
        "Regarding metadata:",
        "Attention",
        "Customers should ensure that no personal data (other than for a User object), sensitive data, export-controlled data, or other regulated data is entered as metadata when using the Snowflake service. For more information, see Metadata fields in Snowflake.",
        "Execute a Snowpark Container Services job service asynchronously:",
        "Execute a job service with block storage mounted:",
        "The command does not specify the optional ASYNC parameter. Therefore, Snowflake executes the command synchronously.",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}