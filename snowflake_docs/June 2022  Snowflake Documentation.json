{
    "url": "https://docs.snowflake.com/en/release-notes/2022-06",
    "title": "June 2022 | Snowflake Documentation",
    "paragraphs": [
        "The following new features, behavior changes, and updates (enhancements, fixes, etc.) have been introduced this month. If you have any\nquestions about these additions, please contact\nSnowflake Support.",
        "Important",
        "Each release may include updates that require the web interface to be refreshed.",
        "As a general practice, to ensure these updates do not impact your usage, we recommend refreshing the web interface after each Snowflake\nrelease has been deployed.",
        "We are pleased to announce the preview of the Snowpark API for Python.",
        "Snowpark is a new developer experience that provides an intuitive API for querying and processing data in a data pipeline. Using this\nlibrary, you can build applications that process data in Snowflake without moving data to the system where your application code runs.",
        "Preview features are intended for evaluation and testing purposes and are not recommended for use in production.",
        "For more information, see Snowpark Developer Guide for Python.",
        "We are pleased to announce a preview of Python UDFs (user-defined functions).",
        "Users can now write custom functions in the Python programming language and call those as though they were built-in functions.",
        "Preview features are intended for evaluation and testing purposes and are not recommended for use in production.",
        "For more information, see Introduction to Python UDFs.",
        "We are pleased to announce a preview of the Python UDF batch API.",
        "The Python UDF batch API enables defining Python functions that receive batches of input rows as Pandas DataFrames and return batches of\nresults as Pandas arrays or Series. You call Python UDFs that use the batch API the same way you call other Python UDFs.",
        "Preview features are intended for evaluation and testing purposes and are not recommended for use in production.",
        "For more information, see Vectorized Python UDFs.",
        "We are pleased to announce a preview of Python UDTFs (user-defined table functions).",
        "Python UDTFs extend Snowflake\u2019s native development capabilities by combining the advantages of table functions with the power, flexibility,\nand ease of programming in Python.",
        "Preview features are intended for evaluation and testing purposes and are not recommended for use in production.",
        "For more information, see Writing a UDTF in Python.",
        "We are pleased to announce a preview of Snowpark stored procedures for Python, which allows you to write stored procedures in Python using\nthe Snowpark API.",
        "In your stored procedure, you can use the Snowpark API for Python to host your data pipelines in Snowflake. For example, you can write\nstored procedures in cases where you need to execute your Snowpark code without running a client application (e.g. from a task).",
        "Preview features are intended for evaluation and testing purposes and are not recommended for use in production.",
        "For more information, see Writing stored procedures in Python.",
        "We are pleased to announce the immediate availability of the following new region:",
        "Cloud Platform",
        "Region",
        "Microsoft Azure",
        "Central India (Pune)",
        "With the addition of this region, Snowflake now supports thirty-two global regions across three cloud platforms (AWS, GCP, and Azure), including\nthree regions that support compliance with US government regulations.",
        "The new region supports all Snowflake editions. You can provision initial accounts in the region\nthrough self-service or a Snowflake representative.",
        "With this release, Snowflake updates the ALTER TAG command to allow specifying a masking policy.",
        "Syntax",
        "Description",
        "ALTER TAG <tag_name> SET MASKING POLICY <masking_policy_name> [ , MASKING POLICY <masking_policy_2_name> , \u2026 ]",
        "ALTER TAG <tag_name> UNSET MASKING POLICY <masking_policy_name> [ , MASKING POLICY <masking_policy_2_name> , \u2026 ]",
        "Use an ALTER TAG command to set a masking policy on a tag or to unset a masking policy from a tag.",
        "Note that the syntax for the ALTER TAG command allows assigning multiple masking policies to a tag in a single statement,\nand the command only supports one masking policy for each data type (e.g. VARCHAR, NUMBER).",
        "The following functions are now available with this release:",
        "Category",
        "Name",
        "Description",
        "System",
        "SYSTEM$GET_TAG_ON_CURRENT_COLUMN",
        "Returns the tag string value assigned to the column based upon the specified tag or NULL if a tag is not assigned to the\nspecified column.",
        "Note that this function can only be used inside the masking policy conditions.",
        "System",
        "SYSTEM$GET_TAG_ON_CURRENT_TABLE",
        "Returns the tag string value assigned to the table based upon the specified tag or NULL if a tag is not assigned to the\nspecified table.",
        "Note that this function can only be used inside the masking policy conditions or row access policy conditions.",
        "We are pleased to announce DML latency improvements for workloads with a high number of concurrent DML operations (e.g. more than 100 DML\njobs per second), such as ingestion workloads or OLTP-like workloads. These improvements result in faster write-heavy workloads and reduced\nwarehouse load.",
        "With this release, we are pleased to announce improved performance of larger (5X-LARGE and 6X-LARGE) warehouses. These larger size\nwarehouses can improve the performance of compute-intensive workloads and provide faster processing of large data sets.",
        "This preview feature is currently only available on Amazon Web Services (AWS) in EU (Ireland) with other regions to follow. Before\nprovisioning a 5X-LARGE or 6X-LARGE warehouse, please contact Snowflake Support. Provisioning times for these sizes\nmay take slightly longer while they are in the preview phase.",
        "For more information, see Overview of warehouses.",
        "We are pleased to announce preview support for Snowpipe error notifications pushed to either the Google Cloud Platform\nPub/Sub or Microsoft Azure Event Grid cloud messaging service. When Snowpipe encounters errors while loading data from files staged in any\nsupported cloud storage service, this feature triggers a notification that describes the errors, enabling further analysis of the data in\nthe files.",
        "Note",
        "Support for pushing error messages to Amazon Simple Notification Service (SNS) has been available since January.",
        "Cross-cloud support is not available for this feature. Snowpipe can load data from files in any supported cloud storage service; however,\nthis feature can only push error notifications to the respective messaging service for the cloud platform that hosts your Snowflake\naccount:",
        "Amazon Simple Notification Service",
        "Google Pub/Sub",
        "Microsoft Azure Event Grid",
        "This feature can push error notifications for loads from auto-ingest Snowpipe or calls to the Snowpipe REST API.",
        "Preview features are intended for evaluation and testing purposes, and are not recommended for use in production.",
        "With this release, calling the public Snowpipe REST endpoints to load data and retrieve load\nhistory reports is no longer restricted to a pipe owner (i.e. the role with the OWNERSHIP privilege on the pipe) or a higher role in a\nrole hierarchy. The following pipe privileges allow calling specific REST endpoints:",
        "Pipe Privilege",
        "REST Endpoints",
        "MONITOR",
        "insertReport, loadHistoryScan",
        "OPERATE",
        "insertFiles",
        "The other existing access control requirements remain the same.",
        "We are pleased to announce preview Directed Acyclic Graph (DAG) support for tasks. A DAG is a series of tasks\ncomposed of a single root task and additional tasks, organized by their dependencies. Previously, users were limited to task trees,\nin which each task had at most a single predecessor (parent) task. In a DAG, each non-root task can have dependencies on multiple\npredecessor tasks, as well as multiple subsequent (child) tasks that depend on it.",
        "Following is a very simple example:",
        "The root task (A) runs on a schedule, such as \u201cevery 5 minutes\u201d or \u201cevery day at 5 AM and 5 PM.\u201d Tasks B and C run simultaneously when Task\nA runs to completion. Task D runs only when both Tasks B and C complete their runs.",
        "DAGs enable parallel processing workflows that were impossible or difficult to achieve using task trees, including:",
        "Updating a set of dimension tables concurrently before aggregating facts for a dashboard.",
        "Prompting a notification through a remote messaging service using an external function after all previous tasks have run to completion.",
        "With this release, Snowflake is pleased to announce the general availability of Sensitive data classification for\nEnterprise Edition (or higher) accounts on AWS and Azure. The feature was previously introduced in preview in February and is still in\npreview on GCP.",
        "Classification enables categorizing potentially personal and/or sensitive data stored in Snowflake tables and views, which can then be used\nto enable a variety of data governance, sharing, and privacy use cases.",
        "With the GA of this feature, we\u2019ve introduced a new data classification model that generates improved prediction models and data patterns.\nIn addition, the classification process now includes output for every table column specified in the input, including:",
        "Columns with data types that were previously unable to be classified.",
        "Columns with only NULL values.",
        "To see the benefits of the GA improvements, you must generate new results for any data that was classified using the previous data\nclassification model.",
        "Note",
        "Because the new data classification model will likely return potentially different results when re-classifying data, the new model has not\nyet been generally enabled. Instead, it has been implemented as a behavior change in the 2022_04 bundle.",
        "Currently, to use the new data classification model, you must opt into the 2022_04 bundle. For more details about the bundle, see the\n6.21 Behavior Change Release Notes.",
        "With this release, Snowflake is pleased to announce tag-based masking policies in preview. A tag-based masking policy combines the object\ntagging and masking policy features to allow a masking policy to be set on a tag using an\nALTER TAG command. This feature also introduces two new\nsystem functions, SYSTEM$GET_TAG_ON_CURRENT_COLUMN and SYSTEM$GET_TAG_ON CURRENT_TABLE,\nwhich can be used to obtain the tag string value in the policy conditions.",
        "When the data type in the masking policy signature and the data type of the column match, the tagged column is automatically protected by\nthe conditions in the masking policy. This simplifies the data protection efforts because column data that should be protected no longer\nneeds a masking policy manually applied to the column to protect the data.",
        "Note that a masking policy directly applied to a column using an ALTER TABLE \u2026 ALTER COLUMN command takes\nprecedence over tag-based masking policy. For details, see Tag-based masking policies.",
        "With this release, Snowflake has improved the documentation for the following SQL commands:",
        "CREATE SECURITY INTEGRATION",
        "ALTER SECURITY INTEGRATION",
        "The content of the existing topics is now divided into smaller topics focused exclusively on each of the following types of security\nintegration:",
        "External OAuth",
        "Snowflake OAuth",
        "SCIM",
        "SAML2",
        "To support this change, eight new entries have been added under SQL Command Reference \u00bb All Commands in the TOC.",
        "Was this page helpful?",
        "On this page",
        "Related info",
        "For more details about the individual releases in which these changes were introduced, see:",
        "Releases"
    ]
}