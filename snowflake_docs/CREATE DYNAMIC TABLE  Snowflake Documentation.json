{
    "url": "https://docs.snowflake.com/en/sql-reference/sql/create-dynamic-table",
    "title": "CREATE DYNAMIC TABLE | Snowflake Documentation",
    "paragraphs": [
        "Creates a dynamic table, based on a specified query.",
        "ALTER DYNAMIC TABLE, DESCRIBE DYNAMIC TABLE, DROP DYNAMIC TABLE , SHOW DYNAMIC TABLES",
        "Creates a new dynamic table with the same column definitions and containing all the\nexisting data from the source dynamic table, without actually copying the data. This\nvariant can also be used to clone a dynamic table at a specific point in the past.\nSee Cloning considerations.",
        "If the source dynamic table has clustering keys, then the cloned dynamic table has\nclustering keys. By default, Automatic Clustering is suspended for the new table, even\nif Automatic Clustering was not suspended for the source table.",
        "For more details about cloning, see CREATE <object> \u2026 CLONE.",
        "Creates a new dynamic Apache Iceberg\u2122 table. For information about Iceberg tables, see\nApache Iceberg\u2122 tables and CREATE ICEBERG TABLE (Snowflake as the Iceberg catalog).",
        "For more information about usage and limitations, see\nCreate dynamic Apache Iceberg\u2122 tables.",
        "Specifies the identifier (i.e. name) for the dynamic table; must be unique for the schema in which the dynamic table is created.",
        "In addition, the identifier must start with an alphabetic character and cannot contain spaces or special characters unless the\nentire identifier string is enclosed in double quotes (e.g. \"My object\"). Identifiers enclosed in double quotes are also\ncase-sensitive.",
        "For more details, see Identifier requirements.",
        "Specifies the lag for the dynamic table:",
        "Specifies the maximum amount of time that the dynamic table\u2019s content should lag behind updates to the source tables.",
        "For example:",
        "If the data in the dynamic table should lag by no more than 5 minutes, specify 5 minutes.",
        "If the data in the dynamic table should lag by no more than 5 hours, specify 5 hours.",
        "If the dynamic table depends on another dynamic table, the minimum target lag must\nbe greater than or equal to the target lag of the dynamic table it depends on.",
        "Specifies that the dynamic table should be refreshed only when dynamic tables that depend on it are refreshed.",
        "Specifies the name of the warehouse that provides the compute resources for refreshing the dynamic table.",
        "You must use a role that has the USAGE privilege on this warehouse in order to create the dynamic table. For limitations and more\ninformation, see Privileges to create a dynamic table.",
        "Specifies the query whose results the dynamic table should contain.",
        "Specifies that the table is transient.",
        "Like permanent dynamic tables, transient dynamic tables exist until\nthey\u2019re explicitly dropped, and are available to any user with the appropriate privileges. Transient dynamic\ntables don\u2019t retain data in fail-safe storage, which helps reduce storage costs, especially for tables that\nrefresh frequently. Due to this reduced level of durability, transient dynamic tables are best used for\ntransitory data that doesn\u2019t need the same level of data protection and recovery provided by permanent tables.",
        "Default: No value. If a dynamic table is not declared as TRANSIENT, it is permanent.",
        "Specifies the refresh mode for the dynamic table.",
        "This property cannot be altered after you create the dynamic table. To modify the property, recreate the dynamic table with a CREATE OR\nREPLACE DYNAMIC TABLE command.",
        "When refresh mode is AUTO, the system attempts to apply an incremental refresh by default. However, when incremental refresh isn\u2019t\nsupported or expected to perform well, the dynamic table automatically selects full refresh instead. For more information, see\nLimitations on incremental refresh.",
        "To determine the best mode for your use case, experiment with refresh modes and automatic recommendations. For consistent behavior across\nSnowflake releases, explicitly set the refresh mode on all dynamic tables.",
        "To verify the refresh mode for your dynamic tables, see View dynamic table refresh mode.",
        "Enforces a full refresh of the dynamic table, even if the dynamic table can be incrementally refreshed.",
        "Enforces an incremental refresh of the dynamic table. If the query that underlies the dynamic table can\u2019t perform an incremental refresh,\ndynamic table creation fails and displays an error message.",
        "Default: AUTO",
        "Specifies the behavior of the initial refresh of the dynamic table. This property cannot be\naltered after you create the dynamic table. To modify the property, replace the dynamic table with a CREATE OR REPLACE DYNAMIC TABLE command.",
        "Refreshes the dynamic table synchronously at creation. If this refresh fails, dynamic table creation fails and displays an error message.",
        "Refreshes the dynamic table at the next scheduled refresh.",
        "The dynamic table is populated when the refresh schedule process runs. No data is populated when the dynamic table is created. If you try to\nquery the table using SELECT * FROM DYNAMIC TABLE, you might see the following error because the first scheduled refresh has not yet\noccured.",
        "Default: ON_CREATE",
        "Specifies a comment for the column.",
        "(Note that comments can be specified at the column level or the table level. The syntax for each is slightly different.)",
        "Specifies the masking policy to set on a column.",
        "If you want to change the name of a column or add a comment to a column in the dynamic table,\ninclude a column list that specifies the column names and, if needed, comments about\nthe columns. You do not need to specify the data types of the columns.",
        "If any of the columns in the dynamic table are based on expressions - for example, not simple column names -\nthen you must supply a column name for each column in the dynamic table. For instance, the column names are\nrequired in the following case:",
        "You can specify an optional comment for each column. For example:",
        "Specifies one or more columns or column expressions in the dynamic table as the clustering key. Before you specify a clustering\nkey for a dynamic table, you should understand micro-partitions. For more information, see Understanding Snowflake Table Structures.",
        "Note the following when using clustering keys with dynamic tables:",
        "Column definitions are required and must be explicitly specified in the statement.",
        "By default, Automatic Clustering is not suspended for the new dynamic table, even if Automatic Clustering is suspended for the\nsource table.",
        "Clustering keys are not intended or recommended for all tables; they typically benefit very large (for example\nmulti-terabyte) tables.",
        "Specifying CLUSTER BY doesn\u2019t cluster the data at creation time; instead, CLUSTER BY relies on\nAutomatic Clustering to recluster the data over time.",
        "For more information, see Clustering Keys & Clustered Tables.",
        "Default: No value (no clustering key is defined for the table)",
        "Specifies the retention period for the dynamic table so that Time Travel actions (SELECT, CLONE) can be performed on historical\ndata in the dynamic table. Time Travel behaves the same way for dynamic tables as it behaves for traditional tables. For more\ninformation, see Understanding & using Time Travel.",
        "For a detailed description of this object-level parameter, as well as more information about object parameters, see\nParameters.",
        "Values:",
        "Standard Edition: 0 or 1",
        "Enterprise Edition:",
        "0 to 90 for permanent tables",
        "0 or 1 for temporary and transient tables",
        "Default:",
        "Standard Edition: 1",
        "Enterprise Edition (or higher): 1 (unless a different default value was specified at the schema, database, or account level)",
        "Note",
        "A value of 0 effectively disables Time Travel for the table.",
        "An object parameter that sets the maximum number of days Snowflake can extend the data retention period to prevent streams on the dynamic\ntable from becoming stale.",
        "For a detailed description of this parameter, see MAX_DATA_EXTENSION_TIME_IN_DAYS.",
        "Specifies a comment for the dynamic table.",
        "(Note that comments can be specified at the column level or the table level. The syntax for each is slightly different.)",
        "Default: No value.",
        "Specifies to retain the access privileges from the original dynamic table when a new dynamic table is created using the\nCREATE DYNAMIC TABLE \u2026 CLONE variant.",
        "This parameter copies all privileges, except OWNERSHIP, from the existing dynamic table to the new dynamic table. The new dynamic\ntable does not inherit any future grants defined for the object type in the schema. By default, the role that executes the\nCREATE DYNAMIC TABLE statement owns the new dynamic table.",
        "If this parameter is not included in the CREATE DYNAMIC TABLE statement, then the new table does not inherit any explicit access\nprivileges granted on the original dynamic table, but does inherit any future grants defined for the object type in the schema.",
        "Note:",
        "With data sharing:",
        "If the existing dynamic table was shared to another account, the replacement dynamic table is also shared.",
        "If the existing dynamic table was shared with your account as a data consumer, and access was further granted to other roles in\nthe account (using GRANT IMPORTED PRIVILEGES on the parent database), access is also granted to the replacement dynamic\ntable.",
        "The SHOW GRANTS output for the replacement dynamic table lists the grantee for the copied privileges as the\nrole that executed the CREATE TABLE statement, with the current timestamp when the statement was executed.",
        "The SHOW GRANTS output for the replacement dynamic table lists the grantee for the copied privileges as the\nrole that executed the CREATE TABLE statement, with the current timestamp when the statement was executed.",
        "The operation to copy grants occurs atomically in the CREATE DYNAMIC TABLE command (i.e. within the same transaction).",
        "Specifies the row access policy to set on a dynamic table.",
        "Specifies the tag name and the tag string value.",
        "The tag value is always a string, and the maximum number of characters for the tag value is 256.",
        "For information about specifying tags in a statement, see Tag quotas for objects and columns.",
        "A role used to execute this SQL command must have the following\nprivileges at a minimum:",
        "Privilege",
        "Object",
        "Notes",
        "CREATE DYNAMIC TABLE",
        "Schema in which you plan to create the dynamic table.",
        "SELECT",
        "Tables, views, and dynamic tables that you plan to query for the new dynamic table.",
        "USAGE",
        "Warehouse that you plan to use to refresh the table.",
        "The USAGE privilege on the parent database and schema are required to perform operations on any object in a schema.",
        "For instructions on creating a custom role with a specified set of privileges, see Creating custom roles.",
        "For general information about roles and privilege grants for performing SQL actions on\nsecurable objects, see Overview of Access Control.",
        "When you execute the CREATE DYNAMIC TABLE command, the current role in use becomes\nthe owner of the dynamic table. This role is used to perform refreshes of the dynamic\ntable in the background.",
        "You cannot make changes to the schema after you create a dynamic table.",
        "Dynamic tables are updated as underlying database objects change. Change tracking must\nbe enabled on all underlying objects used by a dynamic table. See\nEnable change tracking.",
        "If you want to replace an existing dynamic table and need to see its current definition,\ncall the GET_DDL function.",
        "Using ORDER BY in the definition of a dynamic table\nmight produce results sorted in an unexpected order. You can use ORDER BY when querying\nyour dynamic table to ensure that rows selected return in a specific order.",
        "Snowflake doesn\u2019t support using ORDER BY to create a view that selects from a dynamic\ntable.",
        "Some expressions, clauses, and functions are not currently supported in dynamic tables.\nFor a complete list, see Known limitations for dynamic tables.",
        "Customers should ensure that no personal data (other than for a User object), sensitive data, export-controlled data, or other regulated data is entered as metadata when using the Snowflake service. For more information, see Metadata fields in Snowflake.",
        "Create a dynamic table named product:",
        "In the example above:",
        "The dynamic table materializes the results of a query of the product_id and product_name columns of the\nstaging_table table.",
        "The target lag time is 20 minutes, which means that the data in the dynamic table should ideally be no more than 20 minutes\nolder than the data in staging_table.",
        "The automated refresh process uses the compute resources in warehouse mywh to refresh the data in the dynamic table.",
        "Create a dynamic Iceberg table named product that reads from my_iceberg_table:",
        "Create a table with a multi-column clustering key:",
        "Clone a dynamic table as it existed exactly at the date and time of the specified timestamp:",
        "Was this page helpful?",
        "On this page",
        "Related content"
    ]
}