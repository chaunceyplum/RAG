{
    "url": "https://docs.snowflake.com/en/sql-reference/functions/is_role_in_session",
    "title": "IS_ROLE_IN_SESSION | Snowflake Documentation",
    "paragraphs": [
        "Context functions (Session Object)",
        "Verifies whether the account role is in the user\u2019s active primary or secondary role hierarchy for the session or if the\nspecified column contains a role that is in the user\u2019s active primary or secondary role hierarchy for the session.",
        "Advanced Column-level Security topics",
        "Literal \u2014 specify a role directly:",
        "Nonliteral \u2014 specify a column:",
        "The name of the role.",
        "The column name in a table or view.",
        "For a string literal argument, the current user\u2019s active\nprimary role or secondary roles in the session inherit the privileges of the specified\nrole.",
        "When the DEFAULT_SECONDARY_ROLES value is ALL, any role granted to the user inherits the privileges of the\nspecified role.",
        "The specified role can be the current primary role or secondary role (i.e. the roles returned by\nCURRENT_ROLE or CURRENT_SECONDARY_ROLES, respectively) or any role\nlower in the role hierarchy.",
        "For a nonliteral argument, Snowflake evaluates each row and returns a row that contains a value that specifies an active primary or\nsecondary role in the user\u2019s current session. Each row corresponds to a role name that the active primary or secondary role can see.",
        "For a string literal argument, the specified role is either higher in the role hierarchy of the current primary or secondary roles\nor is not in the role hierarchy at all.",
        "For a nonliteral argument, Snowflake evaluates each row. If a row contains a role name that is either higher in the role hierarchy\nof the current primary or secondary roles or is not in the role hierarchy at all, Snowflake does not return this row. In this case,\nSnowflake only returns rows containing the role names the active primary or secondary role can see (if any).",
        "In a data sharing consumer account, this function returns NULL if referencing a shared object (e.g. secure UDF or secure view), such\nas in a masking policy condition. This behavior prevents exposing the role hierarchy in a data sharing consumer account.",
        "Use one syntax.",
        "Literal syntax:",
        "Only one database role name can be passed as an argument.",
        "The argument must be a string and use the same casing as how the role is stored in Snowflake. For details, see\nIdentifier requirements.",
        "The name of an account role is not supported.",
        "Nonliteral syntax:",
        "Only one column can be passed as an argument.",
        "The column must have a STRING data type.",
        "Specify the column as one of the following:",
        "column_name",
        "table_name.column_name",
        "schema_name.table_name.column_name",
        "database_name.schema_name.table_name.column_name",
        "Virtual columns:",
        "A virtual column, which contains the result of a calculated value from an expression rather than the calculated value being stored in the\ntable, is not supported.",
        "A virtual column is supported only when the expression has an alias for the column name:",
        "Policies:",
        "If you use these functions with a masking policy or\nrow access policy, verify that your Snowflake account is Enterprise Edition or higher.",
        "Snowflake recommends using this function when the policy conditions need to evaluate role hierarchy and inherited privileges.",
        "Result cache:",
        "If you use this function in a masking policy or row access policy and neither the policy nor the table or column protected by the policy\nchange from a previous query, you can use the RESULT_SCAN function to return the results of a query on\nthe protected table. The result cache applies when using the nonliteral syntax only.",
        "These functions cannot be used in the materialized view definition because the functions are not deterministic and Snowflake cannot\ndetermine what data to materialize.",
        "Verify if the privileges granted to a specified role are inherited by the current role in the session:",
        "Return active primary or secondary role values for the column named ROLE_NAME:",
        "Specify a role directly in a masking policy condition:",
        "Specify the column named AUTHZ_ROLE (i.e. authorized role) in a row access policy and then set the policy on the table column:",
        "Create the policy:",
        "Add the policy to a table:",
        "Specify the column named AUTHZ_ROLE in a row access policy that uses a mapping table to lookup the authorized role\nin a mapping table column named ROLE_NAME. After creating the policy, add the policy to the table containing the AUTHZ_ROLE column:",
        "Create the policy:",
        "Add the policy to a table:",
        "Was this page helpful?",
        "On this page"
    ]
}